!function(e){function t(t){for(var o,s,a=t[0],c=t[1],l=t[2],u=0,f=[];u<a.length;u++)s=a[u],i[s]&&f.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(p&&p(t);f.length;)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={2:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var p=c;r.push([357,0]),n()}({343:function(e,t){},345:function(e,t){},355:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var o=n(16),i=n.n(o),r=n(52),s=n.n(r),a=n(3),c=n.n(a),l=n(15),p=(n(157),n(34)),u=n.n(p),f=n(10),h=n.n(f),g=n(14),d=n.n(g),m=n(11),y=n.n(m),v=n(12),b=n.n(v),O=n(9),k=n.n(O),E=n(13),C=n.n(E),S=n(28),j=n.n(S),w=n(26),T=n.n(w),D=n(23),I=n(8),P=n(4),x=n(22),M=n.n(x);const _="CHANGE_COLOR_TO_GRAY",N="TOGGLE_PREFERENCE",A="INVERT_IMAGE",L="SET_STATE",F="SET_CONFIG",R="SELECTIVE_CONFIG_RESET",B="RELOAD_IFRAMES",H="HIDE_OR_SHOW",U="SET_SELECTED",K="SET_TEXT",W="SET_PREFERENCES",G="INSERT_INPUT_TO_LOCALSTORAGE",V="PREFERENCES_DUPLICATOR",$="MARK_TIME",z="PREF_COUNT",J="FORCE_REPLACE_CONFIG_FUNCTION",Y="DYNAMIC_ACTION_EXECUTION",q="REREGISTER_BEHAVIOURS",X="CHANGE_BACKGROUND",Z="CHANGE_FOOTER",Q="RELOAD_BACKGROUND",ee="PERSIST_BACKGROUND",te="SET_BORDER_GRAY",ne="HIDE_WHEN_CLICKED_OUTSIDE",oe="PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE",ie="HIDE_COMPONENT",re="SHOW_COMPONENT",se="SOFT_HIDE_COMPONENT",ae="SOFT_SHOW_COMPONENT",ce="HIDE_OR_SHOW_FINISHED",le="TOGGLE_PREF_FINISHED",pe="GET_SEARCH_SUGGESTIONS",ue="SET_CHROME_POPUP",fe="CHANGE_SSE_STATE",he="CHANGE_SELECTED",ge="CHANGE_VISIBILITY",de="HIDE",me="UPDATE_WEATHER",ye="UNINSTALL_EXTENSION",ve="PARSE_URL",be="OPEN_WEB_PAGE",Oe="RELOAD_COMPONENT",ke="RECONSTRUCT_COMPONENT",Ee="REDIRECT_CURRENT_TAB",Ce="SHOW_RATE_US_POPUP",Se="DO_ACTION_ON_INTERVAL",je="DO_ACTION_WHEN_CONDITION_MET",we="TRIGGER_EVENTS",Te="CHANGE_TAB_TITLE",De="SET_SEARCH_ENGINE",Ie="LOCK_SETTINGS",Pe="TRACK",xe="DEBUG",Me="UPDATE_INTERVAL_COMPONENTS",_e="CLOSE_WINDOW",Ne="DISABLE_WINDOW_RESIZING",Ae="SWITCH_STATE_PARAMS",Le="BROWSE_FILES",Fe="VALIDATE_FILES_TYPES",Re="UPDATE_TEXT",Be="STORE_FILE",He="UPLOAD_FILE_TO_CONVERT",Ue="SEND_MESSAGE",Ke="REMOVE_FILES",We="STRINGIFY_BYTES",Ge="STRINGIFY_EPOCH_TIME",Ve="GENERATE_FILE_URL",$e="REPLACE_NEWTAB_WITH_NEWONE",ze="REMOVE_PREFERENCES",Je="SET_FAVICON",Ye="LOAD_STYLESHEET",qe="HISTORY_BACK",Xe="REPLACE_LOCATION",Ze="RELOAD_LOCATION",Qe="DISABLE_BROWSER_ACTION",et="ENABLE_BROWSER_ACTION",tt="RELOAD_TAB",nt="GET_MULTI_SEARCH_SUGGESTIONS",ot="GENERIC_REACT_COMP_FUNCTION";var it=n(7),rt=n(0),st=n(1),at=n(5),ct=n(2);var lt=new class{constructor(){this.fileObject={}}getAllFiles(){return this.fileObject}getFileByName(e){return this.fileObject[e]}deleteAllFiles(){return this.fileObject={},!0}deleteFileByName(e){return!!e&&(delete this.fileObject[e],!0)}fileExist(e){return!!e&&this.fileObject[e]}addFiles(e){return this.fileObject={...this.fileObject,...e},!0}generateFileUrl(e){if(!e||!this.fileObject[e])return!1;try{return URL.createObjectURL(this.fileObject[e])}catch(e){return!1}}},pt=n(29),ut=n(95),ft=n(31),ht=n(47),gt=n(96),dt=n(6);function mt(e){let t;const n=this;Object(D.a)();switch(e.do){case Ee:t=function(t={}){if(!e.url||"disable"===e.url)return;if(!Object(dt.a)(t,e,n))return;const o="chrome-search://local-ntp/local-ntp.html"===e.url&&"ff"===at.a.getBrowserFlavor("short")?"about:newtab":e.url;at.a.getCurrentTabInfo(e=>{at.a.updateTab(e.id,o)})};break;case pe:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=t.suggestUrlType||e.suggestUrlType||!1,i=n.search.getSuggestParam(n.search.getEngineIdByIndex(n.search.getTempOrCurrentSearchEngineIndex()),o,"url");if(!i)return;let r=(t.text||"").trim();if(r===n.state.query)return;const s=()=>{n.setState({rows:[],reset:!0})};if(!r)return void s();if(e.minTermLength&&r.length<e.minTermLength)return n.setState({query:""}),void s();if(e.maxTermLength&&r.length>e.maxTermLength){if(r.slice(0,e.maxTermLength-1)===n.state.query&&n.state.rowsHidden)return;r=r.slice(0,e.maxTermLength-1)}if(n.setState({query:r}),""===t.text)return void n.setState({rows:[]});const a=at.a.locale2(),c=Object(st.eb)(i,{searchTerms:r,lang:a,country:""}),l=e.maxItems||5;Object(ft.a)({method:"get",url:c}).then(e=>{const t=n.search.parseSuggestByConfig(e.data,n.search.getSuggestParam(!1,o,"config"));t[0].indexOf(r)>-1&&n.setState({rows:t[1].slice(0,l),selected:-1,rowsHidden:!1})}).catch(()=>{s()})};break;case nt:t=async(t={})=>{if(!Object(dt.a)(t,e,n))return;let o=(t.text||"").trim();n.query=o;const i=()=>{n.state.rows.length&&n.setState({rowsChanged:!0,rows:[],reset:!0})};if(!o||e.minTermLength&&o.length<e.minTermLength)return void i();if(e.maxTermLength&&o.length>e.maxTermLength&&(o=o.slice(0,e.maxTermLength-1))===n.query&&n.state.rowsHidden)return void i();const r=[{paramFromSource:{ph:"{{searchTerm}}",value:encodeURIComponent(o)}}],s=Object(st.A)(e.placeHolderFunctions)?[...r,...e.placeHolderFunctions]:r,a=Object(st.T)(e,s,{},{args:t,behaviour:e,query:o}),{apiConfig:c}=a,l=t.suggestUrlType||a.suggestUrlType||!1,p=n.search.getDefaultSuggestionURL(l,o),u=[!a.disableDefaultSuggest&&p&&Object(ft.a)({method:"get",url:p}),Object(ut.a)(c,{},!1)],f=await Promise.all(u);a.disableDefaultSuggest||(f[0]=(e=>{let t={};const o=n.search.parseSuggestByConfig(e,n.search.getSuggestParam(!1,l,"config")),i=a.defaultSearchSuggestTracking||!1;t={$default$:[]};for(const e in o[1]){const n=o[1][e];t.$default$.push(Object(st.ab)({__listId:"defaultSuggest",text:n,tracking:i},"{{text}}",n))}return t})(f[0].data));let h={...f[0],...f[1]};const g=c.combinationConfig||!1,d=!(!g.pattern||Object(st.I)(g.pattern))&&g.pattern;return(h=Object(st.P)(h,d,g.maxIterations,g.forcePattern)).length=c.maxItems&&h.length>c.maxItems?c.maxItems:h.length,(i=>{let r="";if(a.calcSourcesSummary){const e={};for(const t in i)i[t].__listId&&(e[i[t].__listId]?e[i[t].__listId]++:e[i[t].__listId]=1);r=Object(st.S)(e,", ","|")}if(r||a.impressionEventName)for(const e in i)a.trackingParamForApiSourceSumClick&&(i[e]=Object(st.z)(i[e],a.trackingParamForApiSourceSumClick,r||"")),a.impressionEventName&&P.a.trigger(a.impressionEventName,[i[e]]);n.setState({rowsChanged:!0,rows:i,selected:-1,rowsHidden:!1}),a.uniteImpressionEvent&&!Object(st.I)(a.uniteImpressionEvent)&&(a.uniteImpressionEvent=Object(st.T)(a.uniteImpressionEvent,a.uniteImpressionEvent.placeHolderFunctions,{},{args:t,behaviour:e,query:o,apiSumString:r}),P.a.trigger(a.uniteImpressionEvent.triggerEventName,[a.uniteImpressionEvent.triggerEventArgs]))})(h)};break;case he:t=function(t={}){if(!Object(dt.a)(t,e,n))return;let o;t.keyCode===rt.tb&&n.state.selected>0?o=--n.state.selected:t.keyCode===rt.ub&&n.state.selected+1<n.state.rows.length&&(o=++n.state.selected),this.selected!=o&&(n.setState({selected:o}),P.a.trigger(rt.h,[{...t,...n.state.rows[o],searchObject:n.state.rows[o]}]))};break;case xe:t=function(t,o){Object(dt.a)(t,e,n)&&(it.a.debug("~~~~~DEBUG-START~~~~~"),it.a.debug(`args: ${JSON.stringify(t)}`),it.a.debug(`args2: ${JSON.stringify(o)}`),it.a.debug(`behave: ${JSON.stringify(e)}`),it.a.debug("~~~~~DEBUG-END~~~~~"))};break;case Le:t=function(t){const n=document.createElement("input");n.style.display="none",n.type="file",n.name="file";const o=e.accept||t.accept||!1;o&&(n.accept=o),n.addEventListener("change",(function(){e.event&&P.a.trigger(e.event,[{files:this.files}])})),n.click()};break;case Fe:t=function(t={}){if(!Object(dt.a)(t,e,n))return;let o=!1;const i=e.deepFiles||t.deepFiles||!1;if(i&&(o=Object(st.p)(t,i)),!(o=o||t.files)||"object"!=typeof o||!o.length)return;const r=!!e.allowedTypes&&e.allowedTypes,s=!!e.maxAllowedSize&&e.maxAllowedSize,a=!!e.maxAllowedLength&&e.maxAllowedLength,c=e.events?e.events:{success:"VALIDATE_FILE_SUCCESS",size:"VALIDATE_FILE_SIZE_FAIL",type:"VALIDATE_FILE_TYPE_FAIL",amount:"VALIDATE_FILE_AMOUNT_FAIL"};if(!(r&&Array.isArray(r)||s||a))return void P.a.trigger(c.success,[{...t,fileName:o[0].name,files:o}],!0);if(a&&o.length>a)return void P.a.trigger(c.amount,[{...t,fileName:o[0].name,files:o}],!0);let l=!0;for(const e in o)if("length"!==e&&"item"!==e&&(r&&(o[e].type&&!r.includes(o[e].type)||!o[e].type&&!Object(st.fb)(o[e].name,r))&&(l=!1,P.a.trigger(c.type,[{...t,fileName:o[0].name,files:o}],!0)),s&&l&&o[e].size>s&&(l=!1,P.a.trigger(c.size,[{...t,fileName:o[0].name,files:o}],!0)),!l))break;l&&P.a.trigger(c.success,[{...t,fileName:o[0].name,files:o}],!0)};break;case ne:t=function(t){const o=()=>{try{l.findDOMNode(n).contains(t.target||t[0]&&t[0].target)||(n.state&&n.state.rows?n.setState({rows:[],selected:-1,rowsHidden:!0}):n.state&&n.state.isOpen&&n.setState({isOpen:!1}),n.state&&n.props.config.hasOwnProperty("hide")&&(n.props.config.hide=!0,n.setState({hide:!0})))}catch(e){}};e.delay?setTimeout(o,e.delay):o()};break;case De:t=function(t){if(!t.engineId)return;if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb),i=()=>{r.setCurrentSearchEngine(t.engineId),P.a.trigger(rt.ac,[t])};let r=ct.a.get(rt.dc);r.isEnginePersist(t.engineId)?t.engineId!=o.get(rt.hc)&&i():t.engineId!=o.get(rt.rc)&&i()};break;case ue:t=t=>{Object(dt.a)(t,e,n)&&(isUndef(e.html)||(at.a.setBrowserActionPopUp(e.html,e.tabId?parseInt(e.tabId):null),P.a.trigger("SET_CHROME_POPUP_DONE")))};break;case oe:t=(t={})=>{try{if(e.events&&n&&n.mounted&&!(n.props.config.hide&&n.state.hide||l.findDOMNode(n).contains(t.target||t[0]&&t[0].target)))for(const t in e.events)P.a.trigger(e.events[t].name,[Object.assign(e.events[t])])}catch(e){it.a.track(rt.W,`PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE: ${e.message}`)}};break;case X:t=function(t={}){if(!Object(dt.a)(t,e,n))return;n.state=n.state||{};let o=t.image||e.image||!1,i=t.color||e.color||!1;const r=ct.a.get(rt.Mb);if((t.lsImage||e.lsImage)&&(o=r.get(t.lsImage||e.lsImage)),(t.lsColor||e.lsColor)&&(o=r.get(t.lsColor||e.lsColor)),o){i=i||"none",o=e.style&&Object(st.K)(e.style[o])?e.style[o]:o;const t=e.style&&Object(st.H)(e.style[o])?e.style[o]:{};let r=Object(st.x)(o,!0);const s=n.props&&n.props.config&&n.props.config.backgroundImageGradient;r=s&&Object(st.gb)(r,"url(")?`${s},${r}`:r;const a=n.state.style||n.props.config.style||{};if(a.backgroundColor===i&&a.backgroundImage===r)return;n.setState({style:{...n.state.style||{},...t,backgroundImage:r,backgroundColor:i}})}else i&&n.setState({style:{...n.state.style||{},backgroundImage:"none",backgroundColor:i}})};break;case ee:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb);t.image?(o.set(rt.j,t.image),o.set(rt.i,"")):t.color&&(o.set(rt.i,t.color),o.set(rt.j,""))};break;case Q:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb),i={};i.color=o.get(rt.i),i.image=o.get(rt.j),P.a.trigger(X,[i])};break;case te:t=function(e={}){if(e.color)n.setState({style:{...n.state?n.state.style:{},borderColor:"lightgray"}});else if(e.image){const e={...n.state?n.state.style:{}};e.hasOwnProperty("borderColor")&&delete e.borderColor,n.setState({style:e})}n.mounted&&n.forceUpdate()};break;case _:t=function(t={}){if(Object(dt.a)(t,e,n))if("#ffffff"===t.color)n.setState({style:{...n.state?n.state.style:{},color:"#8A8A8A"}});else if(/tile-bg\.png$/.test(t.image))n.setState({style:{...n.state?n.state.style:{},color:"#555"}});else{const e={color:n.props.config.style.color};n.setState({style:{...n.state?n.state.style:{},...e}})}};break;case A:t=function(e={}){if("#ffffff"===e.color)n.setState({style:{...n.state?n.state.style:{},WebkitFilter:"invert(100%)",filter:"invert(100%)"}});else if(/tile-bg\.png$/.test(e.image))n.setState({style:{...n.state?n.state.style:{},WebkitFilter:"invert(100%)",filter:"invert(100%)"}});else{const e={filter:n.props.config.style.filter?n.props.config.style.filter:"invert(0%)",WebkitFilter:n.props.config.style.filter?n.props.config.style.filter:"invert(0%)"};n.setState({style:{...n.state?n.state.style:{},...e}})}};break;case L:t=function(t={}){if(Object(dt.a)(t,e,n)){let o=e.state||t.state;const i=e.mergeStates||!1,r=ct.a.get(rt.Mb);if(e.dynamic&&Array.isArray(e.dynamic)){o=JSON.stringify(o);for(const i in e.dynamic){const s=e.dynamic[i],a=new RegExp(s.ph,"g");let c="pref"===s.source?r.get(s.key):"self"===s.source?n:t[s.key];s.deepValue&&(c=Object(st.p)(c,s.deepValue)),o=o.replace(a,c)}o=JSON.parse(o)}const s=e.phFunctions||e.placeHolderFunctions;if(Array.isArray(s))try{o=Object(st.T)(o,s,{},n)}catch(e){}n.mounted&&(i?n.setState(T()({},n.state,o)):n.setState({...o}))}else if(e.ignorable);else{const t={};for(const n in e.state)t[n]="object"==typeof e.state[n]?{}:void 0;n.setState({...t})}};break;case F:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.config||t.config||{},i="deepAssign"===e.method?T.a:Object.assign,r=n.props.config,s={...n.props.config,...o};if(!Object(st.b)(s,r)){i(n.props.config,o||{}),n.mounted&&n.setState(n.state);const r=t.doneEvent||e.doneEvent||`SET_CONFIG_DONE_${n.props.config.id}`;P.a.trigger(r,[s])}};break;case R:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=!(!e.keysToReset||Object(st.I)(e.keysToReset))&&e.keysToReset,i=o?{}:n.props.config;if(o)for(const e in o){const t=o[e];i[t]=n.props.config[t]}n.setState(i)};break;case B:t=function(t={}){Object(dt.a)(t,e,n)&&"function"==typeof n.updateIframes&&n.updateIframes(t.state||{})};break;case Re:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=e.argsKey||"text",i=e.text?e.text:t&&t[o]?t[o]:"";n.setState({text:i})};break;case Ke:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=!(!e.files||!Array.isArray(e.files))&&e.files;if(o)for(const e in o)lt.deleteFileByName(o[e])};break;case Be:t=function(t){if(!Object(dt.a)(t,e,n))return;if(!t.files||"object"!=typeof t.files||!t.files.length)return;const{files:o}=t;if(e.fileName&&e.fileLocation){const t=e.fileName;lt.addFiles({[t]:o[e.fileLocation]}),e.event&&P.a.trigger(e.event,[o[e.fileLocation]])}else{for(const e in o)if("length"!==e&&"item"!==e){const t=o[e].name,n=o[e];lt.addFiles({[t]:n})}e.event&&P.a.trigger(e.event,[{files:JSON.stringify(o)}])}};break;case He:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.fileName||t.fileName||!1;if(!o)return;let i=e.convertType||t.convertType||!1;if(!i)return;const r=lt.getFileByName(o);let s=e.events||{};if(s={success:"FILE_CONVERT_SUCCEEDED",failure:"FILE_CONVERT_FAILED",noFile:"FILE_CONVERT_NOFILE",start:"FILE_CONVERT_STARTED",...s},!r)return void P.a.trigger(s.noFile);const a=e.convertKey||"08cd7b5c13da4a64e0fdc5cfab6c356ccb321dda",c=e.convertUrl||"https://api.zamzar.com/v1/jobs/",l=e.getFileUrl||"https://api.zamzar.com/v1/files/{{fileId}}/content",p=e.retries||12;let u=p;i=i.toLowerCase();const f=`Basic ${btoa(`${a}:`)}`;P.a.trigger(s.start);const h={Authorization:f};let g=!1;const d=e.abortMsg||!1;let m=!1;if(d){const e=t=>{for(const n in d)if(t.data[n]===d[n]&&(m=!0)){window.removeEventListener("message",e,!1);break}};window.addEventListener("message",e)}const y=e=>{if(m)return;const t=c+e;Object(ft.a)({method:"get",url:t,headers:h}).then(t=>{((e,t)=>{if(u)if("successful"===t.status){const e=!!(Object(st.A)(t.target_files)&&Object(st.H)(t.target_files[0])&&t.target_files[0].id)&&t.target_files[0].id;e?v(e):b("job_returned_without_file_id")}else"failed"===t.status?b("job_status_failed"):(--u,setTimeout(()=>{y(e)},5e3));else b(`job_didnt_return_after_${p}_retries`)})(e,t.data)}).catch(e=>{b(e)})},v=e=>{if(m)return;const t=l.replace("{{fileId}}",e),n=`${r.name.substr(0,r.name.lastIndexOf("."))}.${i}`;Object(st.m)(t,n,h).then(()=>{P.a.trigger(s.success)}).catch(e=>{b(e)})},b=(e="unknown")=>{const t=ct.a.get(rt.Cc),n=Object(st.K)(e)?e:e.response?e.response.data:e;t.trackStatusEvent("api_error",void 0,void 0,void 0,void 0,void 0,{extra1:n}),Object(st.F)(n,"credits")&&at.a.createTab({url:"https://www.zamzar.com"}),P.a.trigger(s.failure,[{error:""}])};(()=>{if(m)return;const e=new FormData;e.append("source_file",r),e.append("target_format",i),Object(ft.a)({method:"post",url:c,data:e,headers:h}).then(e=>{(e=>{m||(Object(st.H)(e)&&"initialising"===e.status&&e.id?(g=e.id,setTimeout(()=>{y(g)},500)):b("job_init_failed"))})(e.data)}).catch(e=>{b(e)})})()};break;case Ue:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.messages||!1;if(o&&Array.isArray(o))for(const e in o)window.postMessage(o[e],"*")};break;case Ie:t=function(t={}){if(e.keys&&Object(dt.a)(t,e,n))try{const t=ct.a.get(rt.Mb),n=!e.unlock||!0!==e.unlock||void 0;for(let o=0;o<Object.keys(e.keys).length;o++)t.set(`${e.keys[o]}_locked`,n)}catch(e){it.a.track(rt.W,`LOCK_SETTINGS90: ${e.message}`)}};break;case U:t=function(t,o){if(!Object(dt.a)(t,e,n))return;const i=o&&o.id?o.id:e.selectedId?e.selectedId:t&&t.selectedId?t.selectedId:"";if(n.props.config.id===i)n.setState({style:{...n.state?n.state.style:{},...n.props.config.selectedStyle},selected:!0});else{const e={};for(const t in n.props.config.selectedStyle)e[t]=n.props.config.style[t];n.setState({style:{...n.state?n.state.style:{},...e},selected:!1})}};break;case K:t=function(t){if(Object(dt.a)(t,e,n)&&(n.setState({text:t.text}),n.props.config.events&&n.props.config.events.onSetText)){const e={...n.props.config.events.onSetText,text:t.text,searchObject:t.searchObject||{}};P.a.trigger(n.props.config.events.onSetText.name,[e,{...n.props.config}])}};break;case H:t=function(t={}){Object(dt.a)(t,e,n)&&(n.props.config.hide=!n.props.config.hide,n.mounted&&n.forceUpdate(),Object.assign(t,e.args||{}),Object(st.H)(e.events)&&(e.events.hide&&n.props.config.hide?P.a.trigger(e.events.hide,[t]):e.events.show&&!n.props.config.hide&&P.a.trigger(e.events.show,[t]))),P.a.trigger(ce,[t])};break;case ie:t=function(t={}){Object(dt.a)(t,e,n)&&(n.props.config.hide=!0,n.mounted&&n.setState({hide:!0}))};break;case re:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb),i=null!=e.delay?e.delay:t&&null!=t.delay?t.delay:o.get(rt.Kb),r=e.delayKey?e.delayKey:!!t.delayKey&&t.delayKey;r&&o.set(r,i),setTimeout(()=>{if(e.stop){const{key:t}=e.stop;if(o.get(t)==e.stop.val)return}n.props.config.hide=!1,n.mounted&&n.setState({hide:!1})},i),P.a.trigger(re,[{...n.props.config}]),P.a.trigger(`${re}_${n.props.config.id}`,[{...n.props.config}])};break;case se:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.delay||t.delay||0,i={style:{display:"none"}};setTimeout(()=>{n.mounted&&n.setState(T()({},n.state,i))},o)};break;case ae:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.delay||t.delay||0,i={style:{display:e.display?e.display:t.display?t.display:n.props.config.style&&n.props.config.style.display?n.props.config.style.display:"block"}};setTimeout(()=>{n.mounted&&n.setState(T()({},n.state,i))},o)};break;case Oe:t=function(t){Object(dt.a)(t,e,n)&&n.mounted&&n.forceUpdate()};break;case ke:t=function(t={}){if(Object(dt.a)(t,e,n)&&n.mounted){mt.call(n,{do:J})(),n.setState({reconstruct:!0});const o=t.doneEvent||e.doneEvent||`RECONSTRUCT_COMPONENT_${n.props.config.id}`;P.a.trigger(o)}};break;case W:t=function(t={}){const o=e.key||t.key||!1;if(!o)return;if(!Object(dt.a)(t,e,n))return;const i=ct.a.get(rt.Mb);let r=e.hasOwnProperty("val")?e.val:t.hasOwnProperty("val")?t.val:"";(t.randomVal||e.randomVal||!1)&&(r=Object(st.V)("0123456789",9));const s=t.source||e.source||"pref",a=[];let c=[];!0===e.wildcard?(c=i.getAllKeys()).forEach(e=>{e.indexOf(o)>=0&&a.push(e)}):a.push(o),a.forEach(t=>{if(e.op){let n=null==i.get(t)||""==i.get(t)?0:parseFloat(i.get(t));switch(e.op){case"*":n*=r,i.set(t,n,s);break;case"-":n-=r,i.set(t,n,s);break;case"/":0!=n&&(n/=r,i.set(t,n,s));break;case"+":n+=r,i.set(t,n,s)}}else i.set(t,r,s)})};break;case V:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb),i=t.keyFrom||e.keyFrom||!1,r=t.keyTo||e.keyTo||!1,s=t.source||e.source||"pref";i&&r&&o.set(r,o.get(i),s)};break;case $:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb),i=t.key||e.key||!1;if(!i)return;const r=t.source||e.source||"pref";o.markTime(i,r)};break;case z:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb),i=t.key||e.key||!1;if(!i)return;const r=t.source||e.source||"pref";o.count(i,r)};break;case G:t=function(t={}){if(Object(dt.a)(t,e,n)&&t.stringId&&(t.key||e.key)){const n=ct.a.get(rt.Mb),o=e.key?e.key:t.key;n.set(o,t.text)}};break;case N:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb);if(null!=t){const e=t.active?0:1;o.set(n.props.config.key,e)}P.a.trigger(le)};break;case ge:t=function(t={}){Object(dt.a)(t,e,n)&&(n.setState({isOpen:!n.state.isOpen}),n.props.config.hide=!n.props.config.hide,n.mounted&&n.forceUpdate())};break;case de:t=function(t={}){Object(dt.a)(t,e,n)&&n.setState({isOpen:!1})};break;case me:t=function(e={}){try{const t=ct.a.get(rt.Mb),o=(new Date).getTime(),i=9e5,r=t.get(rt.Lc),s=e.unit?e.unit:"{{UNITS_WEATHER}}"===r?"metric":r,a=n.state.isCelsius?"metric":"imperial",c=s!==a,l=t.get(rt.Tc),p=t.get(rt.Sc),u=function(e){t.set(rt.Lc,s),n.mounted&&e.main&&n.setState({isCelsius:"imperial"!==s,temperature:Math.round(e.main.temp),city:e.name,icon:`url(content/images/weather/${e.weather[0].icon}.svg)`})};if(!c&&Object(st.H)(l)&&p&&o-p<=i)u(l);else{const e=t.get(rt.lb);if(!e[rt.xb]||!e[rt.xb])return;const o=`https://api.openweathermap.org/data/2.5/weather?appid=${rt.Rc}&lat=${e[rt.xb]}&lon=${e[rt.Ab]}&units=${s}&z=90883`;M()({method:"get",url:o}).then(e=>{const n=e.data;n.main&&(t.set(rt.Tc,n),t.set(rt.Sc,(new Date).getTime()),t.set(rt.y,n.name),u(n))}).catch(e=>{n.mounted&&n.setState({isCelsius:"imperial"!==t.get(rt.Lc)})})}}catch(e){it.a.track(rt.W,`UPDATE_WEATHER90: ${e.message}`)}};break;case Pe:t=(t={})=>{Object(dt.a)(t,e,n)&&Object(ht.c)(t,e)};break;case ye:t=function(e){at.a.uninstall(()=>{})};break;case ve:t=function(e){"#ds1"===e.hash&&it.a.debug(window.decodeURIComponent(window.location.href))};break;case be:t=function(t={}){Object(gt.a)(t,e,n)};break;case fe:t=function(e){if("secured_active"!==n.props.config.key)return;const t=ct.a.get(rt.Cc),o=at.a.connectExternalFile("ws_feature_toggle"),i=ct.a.get(rt.Mb).get("secured_active");i?o.postMessage({secureSearch:!0}):o.postMessage({secureSearch:!1}),t.trackStatusEvent("secured_set","",`active: ${i}`)};break;case Z:t=function(e){e.image&&/tile-bg\.png$/.test(e.image)?n.setState({style:{...n.state?n.state.style:{},backgroundColor:"#EEEEEE"}}):n.setState({style:{...n.state?n.state.style:{},backgroundColor:""}})};break;case Ce:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb),i=!(!e||!e.timeKey||"false"==e.timeKey)&&e.timeKey,r=e&&e.interval?e.interval:0,s=Math.floor((new Date).getTime()/1e3);i&&r?(null==o.get(i)||s-o.get(i)>=r)&&(o.set(rt.Sb,s),P.a.trigger(rt.nc,[t])):(o.set(rt.Sb,s),P.a.trigger(rt.nc,[t]))};break;case Se:t=(t={})=>{if(Object(dt.a)(t,e,n)){if(e.interval){let{interval:o}=e;e.unit&&("s"===e.unit?o*=1e3:"m"===e.unit?o=1e3*o*60:"h"===e.unit&&(o=1e3*o*60*60)),setInterval(()=>{e.do=e.actionType,mt.call(n,e)(t),it.a.debug(`DO_ACTION_ON_INTERVAL called: ${e.actionType}`)},o)}e.timeout&&setTimeout(()=>{e.do=e.actionType,mt.call(n,e)(t),it.a.debug(`DO_ACTION_ON_INTERVAL called: ${e.actionType}`)},e.timeout)}};break;case je:t=(t={})=>{const o=e.actionCondition?new pt.a(e.actionCondition):null;if(!(null===o||o&&o.check(t,e,n)))return;const i=e.c?new pt.a(e.c):null;if(i){const o=function(){return it.a.debug("DO_ACTION_WHEN_CONDITION_MET check"),!!i.check(t,e,n)&&(e.do=e.actionType,mt.call(n,e)({...t,...e.args}),it.a.debug(`DO_ACTION_WHEN_CONDITION_MET called: ${e.actionType}`),!0)};if(!o()){const t=setInterval(()=>{o()&&clearInterval(t)},e.interval||100);setTimeout(()=>{clearInterval(t)},e.timeout||5e3)}}};break;case we:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb);let i=e.events||t.events||!1;if(i&&"object"==typeof i){if(e.dynamic&&Array.isArray(e.dynamic)){i=JSON.stringify(i);for(const r in e.dynamic){const s=e.dynamic[r],a=new RegExp(`"${s.ph}"`,"g"),c=new RegExp(s.ph,"g");let l="pref"===s.source?o.get(s.key):"self"===s.source?n:"args"===s.source?t:t[s.key];s.deepValue&&(l="string"==typeof(l=Object(st.p)(l,s.deepValue))?l.trim():l),i=i.replace(a,JSON.stringify(l)).replace(c,l)}i=JSON.parse(i)}e.placeHoldersFunctions&&(i=Object(st.T)(i,e.placeHoldersFunctions,{},{self:n,behaviour:e,args:t}));for(const n in i)if("object"==typeof i[n])for(const o in i[n])P.a.trigger(o,[{...e,...t,...i[n][o]}]);else P.a.trigger(n,[{...e,...t,...i[n]}])}};break;case Me:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=ct.a.get(rt.Mb);if(e.localStorageKey&&t.componentsState){let n=o.get(e.localStorageKey);"object"==typeof n&&"object"==typeof t.componentsState&&(n={...n,...t.componentsState},o.set(e.localStorageKey,n))}n.isIntervalComponent&&n.mounted&&"object"==typeof n.state.componentsState&&"object"==typeof t.componentsState&&n.setState({...n.state,componentsState:T()({},n.state.componentsState,t.componentsState)})};break;case _e:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=e.delay?e.delay:t&&t.delay?t.delay:0;setTimeout(()=>{window.close()},o)};break;case Te:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.title||t.title||!1;o&&(document.title=o)};break;case Ne:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=[window.outerWidth,window.outerHeight];window.onresize=()=>{window.resizeTo(o[0],o[1])}};break;case Ae:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=t.rules||e.rules||!1;if(!o)return;const i={};for(const e in o){const t=o[e],r=Object(st.p)(n.state,t.fromValue),s=Object(st.z)({},t.toValue,r);T()(i,s)}n.setState(T()({},n.state,i));const r=t.doneEvent||e.doneEvent||!1;r&&P.a.trigger(r,[T()({},t,{state:i})])};break;case We:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=e.source||t.source||0,i=e.decimals||t.decimals||2,r=e.space||t.space||!1,s=Object(st.ib)(o,i,r),a=e.event||"STRINGIFY_BYTES_DONE";P.a.trigger(a,[{result:s}])};break;case Ge:t=function(t){if(!Object(dt.a)(t,e,n))return;const o=e.epoch||t.epoch||!1,i=e.function||t.function||"toLocaleString";let r=new Date;try{r=!1!==o?new Date(parseInt(o)):r}catch(e){}const s="function"==typeof r[i]?r[i]():r.toLocaleString(),a=e.event||"STRINGIFY_EPOCH_TIME_DONE";P.a.trigger(a,[{result:s}])};break;case Ve:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.fileName||t.fileName||!1;if(!o)return;const i=lt.generateFileUrl(o);if(!i)return;const r=e.events||t.events||{success:"GENERATE_FILE_URL_SUCCESS"};P.a.trigger(r.success,[{fileUrl:i}])};break;case $e:t=function(t={}){if(!Object(dt.a)(t,e,n))return;at.a.getCurrentTabInfo(e=>{at.a.createTab(),at.a.removeTab(e.id)});const{triggerEvent:o}=e;if(o)for(const e in o)P.a.trigger(e,[{...n.props.config,...t,...o[e]}])};break;case ze:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.key||!1;o&&o!==`${rt.Ib}${rt.b}`&&ct.a.get(rt.Mb).remove(o)};break;case J:t=function(t={}){if("function"!=typeof n.replaceConfigFunc)return;if(!Object(dt.a)(t,e,n))return;const o={...e.extraData,...t.extraData};let i=Object(st.A)(e.extraFuncs)?e.extraFuncs:[];i=Object(st.A)(t.extraFuncs)?[...i,...t.extraFuncs]:i,n.replaceConfigFunc(i,o);const r=t.doneEvent||e.doneEvent||`FORCE_REPLACE_CONFIG_FUNCTION_${n.props.config.id}`;n.state.forceReplace=!0,n.setState({}),P.a.trigger(r)};break;case Y:t=function(e={}){if(!e.behaviour)return;const t=e.behaviour;return Object(dt.a)(e,t,n)?(mt.call(n,t)({...e,...e.args}),!0):void 0};break;case q:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=Object(st.A)(n.props.config.behaviours)?n.props.config.behaviours:[];yt.bind(n)(o);const i=Object(st.A)(t.extraBehaviours)?t.extraBehaviours:[],r=[Object(st.A)(n.props.config.behaviours)?n.props.config.behaviours:[],...i];vt.bind(n)(r);const s=t.doneEvent||e.doneEvent||`REREGISTER_BEHAVIOURS_${n.props.config.id}`;P.a.trigger(s,[])};break;case Je:t=function(t={}){const n=document.querySelector('link[rel*="icon"]')||document.createElement("link");n.type="image/x-icon",n.rel="shortcut icon",n.href=e.href,document.getElementsByTagName("head")[0].appendChild(n)};break;case Ye:t=function(t={}){const n=e.href;if(!document.querySelector(`link[href="${n}"]`)){const e=document.getElementsByTagName("head")[0],t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=n,t.media="all",e.appendChild(t)}};break;case qe:t=function(t={}){window.history.back(),e.close&&1===history.length&&window.close()};break;case Xe:t=function(t={}){Object(dt.a)(t,e,n)&&window.location.replace(e.location||t.location)};break;case Ze:t=function(t={}){Object(dt.a)(t,e,n)&&window.location.reload()};break;case Qe:t=function(t={}){Object(dt.a)(t,e,n)&&at.a.setBrowserActionDisable(e.tabId)};break;case et:t=function(t={}){Object(dt.a)(t,e,n)&&at.a.setBrowserActionEnable(e.tabId)};break;case tt:t=function(t={}){Object(dt.a)(t,e,n)&&at.a.tabsReload(e.tabId)};break;case ot:t=function(t={}){if(!Object(dt.a)(t,e,n))return;const o=e.functionName,i=e.functionArguments||[];o&&Object(st.E)(n[o])&&n[o](...i)};break;default:t=()=>{}}return function(){Object(st.U)(e),Object(st.U)(arguments[0]);const{env_:n}=P.a;let o={};for(const e in arguments)o=Object.assign(o,arguments[e]);!0===o.forceCrossContextEvent?t.apply(this,arguments):"object"==typeof o.forceCrossContextEvent&&n?o.forceCrossContextEvent[n]&&t.apply(this,arguments):o.eventFromOtherContext?!0===e.crossContextListener?"object"==typeof o.crossContextEventTargets?o.crossContextEventTargets[n]&&t.apply(this,arguments):t.apply(this,arguments):"object"==typeof e.crossContextListener&&o.eventSource&&e.crossContextListener[o.eventSource]&&t.apply(this,arguments):"object"==typeof o.crossContextEventTargets?o.crossContextEventTargets[n]&&t.apply(this,arguments):t.apply(this,arguments)}}function yt(e){if(e)for(let t=0;t<e.length;t++){const n=Object(st.d)(e[t]);for(let e=0;e<n.length;e++){const o=n[e];if(!Object(st.H)(o)||!o.on||!o.do)continue;const i=Object(st.d)(o.on),r=Object(st.d)(o.do),s=this;r.forEach((n,r)=>{const a=Object(st.j)(o);a.do=n,a.on=i,P.a.off(a.on,s._registeredActions[e][t][r])})}}}function vt(e){const t=mt.bind(this);if(e)for(let n=0;n<e.length;n++){const o=Object(st.d)(e[n]);for(let e=0;e<o.length;e++){const i=o[e];if(!Object(st.H)(i)||!i.on||!i.do)continue;const r=Object(st.d)(i.on),s=Object(st.d)(i.do),a=this;r.forEach((o,r)=>{s.forEach((r,s)=>{const c=Object(st.j)(i);c.do=r,c.on=o,c.__BehaviourId=Object(D.a)(),a._registeredActions=a._registeredActions||[],a._registeredActions[e]=a._registeredActions[e]||[],a._registeredActions[e][n]=a._registeredActions[e][n]||[],a._registeredActions[e][n][s]=t(c),P.a.on(c.on,a._registeredActions[e][n][s])})})}}}var bt=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e)))._uniqueComponentId=Object(D.a)(),n}return C()(t,e),d()(t,[{key:"shouldTakeFocus",value:function(){return!!this.props.config.focus}},{key:"stopIntervalFocus",value:function(){this.takeFocusOnIntervalREF&&(clearInterval(this.takeFocusOnIntervalREF),this.takeFocusOnIntervalREF=void 0)}},{key:"takeFocusOnInterval",value:function(){var e=this;if(this.shouldTakeFocus()){var t=0;this.takeFocusOnIntervalREF=setInterval((function(){++t,e.textInput.focus(),10===t&&e.stopIntervalFocus()}),100)}}},{key:"getDataAutoAttr",value:function(e){var t=e.config.data_auto;return t&&Object(st.H)(t)?encodeURIComponent(JSON.stringify(t)):null}}]),t}(a.Component);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return bt}),"GenericReactComponentWrapper");var Et=n(36).Block,Ct=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).conditionalConfigMerge(),n.originalConfig=JSON.parse(JSON.stringify(e.config)),n.replaceConfigFunc(),n.state={hovered:!1,style:e.config.selected&&e.config.selectedStyle?e.config.selectedStyle:{}},n.mergeChildrenProps(),"mainWindow"===e.config.id&&Object(st.H)(e.config.style)&&(e.config.style.hasOwnProperty("backgroundColor")&&delete e.config.style.backgroundColor,e.config.style.hasOwnProperty("backgroundImage")&&delete e.config.style.backgroundImage),n.props.config.events&&((n.props.config.events.onDragStart||n.props.config.events.onDragEnter||n.props.config.events.onDragOver||n.props.config.events.onDragLeave)&&window.addEventListener("dragover",(function(e){(e=e||event).preventDefault()}),!1),n.props.config.events.onDrop&&(window.addEventListener("dragover",(function(e){(e=e||event).preventDefault()}),!1),window.addEventListener("drop",(function(e){(e=e||event).preventDefault()}),!1))),n.handleMouseEnter=n.handleMouseEnter.bind(k()(n)),n.handleMouseLeave=n.handleMouseLeave.bind(k()(n)),n.handleOnClick=n.handleOnClick.bind(k()(n)),n.handleOnDragStart=n.handleOnDragStart.bind(k()(n)),n.handleOnDragEnter=n.handleOnDragEnter.bind(k()(n)),n.handleOnDragOver=n.handleOnDragOver.bind(k()(n)),n.handleOnDragLeave=n.handleOnDragLeave.bind(k()(n)),n.handleOnDrop=n.handleOnDrop.bind(k()(n)),n.handleKeyDown=n.handleKeyDown.bind(k()(n)),n.nextClickName=0,n}return C()(t,e),d()(t,[{key:"conditionalConfigMerge",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var n=function(){var t=Object(st.H)(e.props.config.conditionalConfigMerge)?[e.props.config.conditionalConfigMerge]:e.props.config.conditionalConfigMerge;for(var n in t){var o=t[n],i=o.c?new pt.a(o.c):null;Object(st.H)(o.config)&&(null===i||i&&i.check(e.props.config,o,e.props.config))&&T.a.withOptions(e.props.config,[o.config],o.options||{arrayBehaviour:"replace"})}};t&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||n()}catch(e){}}},{key:"replaceConfigFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originalConfig;try{if(Object(st.A)(this.originalConfig.placeHoldersFunctions)){var o=Object(st.A)(e)?[].concat(u()(this.originalConfig.placeHoldersFunctions),u()(e)):this.originalConfig.placeHoldersFunctions,i=Object(st.T)(n,o,{},kt({},n,{},t,{_uniqueComponentId:this._uniqueComponentId}));Object.assign(this.props.config,i)}}catch(e){it.a.debug("error",e)}}},{key:"mergeChildrenProps",value:function(){var e=this.props.config.childrenProps;if(e&&Object(st.H)(e)){var t=e.props||{},n=("deepAssign"===e.method?T.a:Object.assign,this.props.config.components);if(Array.isArray(n))for(var o in n)n.hasOwnProperty(o)&&(n[o]=kt({},t,{},n[o]))}}},{key:"createComponents",value:function(){var e,t=this;if(this.props.config.components){this.mergeChildrenProps();var n=this.props.config.components,o=this.state.forceReplace||this.props.forceReplace;e=Object.keys(this.props.config.components).map((function(e){if(Object(st.H)(n[e])&&n[e].type){if(n[e].hasOwnProperty("renderForEach"))return t.createComponentForEach(n[e],e);var i=I.a.createComponent(n[e].type);return a.createElement(i,{key:e,config:n[e],hover:t.state.hovered,forceReplace:o})}}))}return e}},{key:"createComponentForEach",value:function(e,t){var n=e.renderForEach;if(!n||"object"!==s()(n))return[];Object(st.A)(n)&&(n.length=e.renderForEachLimit&&n.length>e.renderForEachLimit?e.renderForEachLimit:n.length),e=JSON.stringify(e),this.state.renderForEach=this.state.renderForEach||{},this.state.renderForEach[t]=this.state.renderForEach[t]||{};var o=[],i={},r=this.state.forceReplace||this.props.forceReplace;for(var c in n){var l=n[c],p=e.replace(/{{key}}/g,c);p="object"===s()(l)?p.replace(/"{{value}}"/g,JSON.stringify(l)):p.replace(/{{value}}/g,l);var u=JSON.parse(p);delete u.renderForEach,i[c]=u;var f=I.a.createComponent(u.type);o.push(a.createElement(f,{key:c,config:!r&&this.state.renderForEach[t][c]||u,hover:this.state.hovered,forceReplace:r,renderedForEach:!0}))}return this.state.renderForEach[t]=Object.assign(i,!r&&this.state.renderForEach[t]),o}},{key:"componentWillMount",value:function(){this.props.config.events&&this.props.config.events.willMount&&P.a.trigger(this.props.config.events.willMount.name,[kt({},this.props.config.events.willMount,{selected:this.props.config.selected,selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}},{key:"componentDidMount",value:function(){if(this.mounted=!0,vt.bind(this)(this.props.config.behaviours),this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}this.props.config.events&&this.props.config.events.onMount&&P.a.trigger(this.props.config.events.onMount.name,[kt({},this.props.config.events.onMount,{selected:this.props.config.selected})])}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"handleMouseEnter",value:function(e){this.setState({hovered:!0}),this.props.config.events&&this.props.config.events.onMouseEnter&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onMouseEnter.name,[kt({},this.props.config.events.onMouseEnter)]))}},{key:"handleMouseLeave",value:function(e){this.setState({hovered:!1}),this.props.config.events&&this.props.config.events.onMouseLeave&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onMouseLeave.name,[kt({},this.props.config.events.onMouseLeave)]))}},{key:"handleOnClick",value:function(e){var t=this;if(this.props.config.events&&this.props.config.events.onClick){var n=kt({},this.props.config.events.onClick);e.stopPropagation(),P.a.trigger(function(){if(Array.isArray(t.props.config.events.onClick.names)){var e=t.props.config.events.onClick.names[t.nextClickName];return t.nextClickName=t.props.config.events.onClick.names.length-1===t.nextClickName?0:t.nextClickName+1,e}return t.props.config.events.onClick.name}(),[n,kt({},this.props.config)])}this.props.onClick&&this.props.onClick(e)}},{key:"handleOnDragStart",value:function(e){this.props.config.events&&this.props.config.events.onDragStart&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onDragStart.name,[kt({},this.props.config.events.onDragStart,{},e)],!0))}},{key:"handleOnDragEnter",value:function(e){this.props.config.events&&this.props.config.events.onDragEnter&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onDragEnter.name,[kt({},this.props.config.events.onDragEnter,{},e)],!0))}},{key:"handleOnDragOver",value:function(e){this.props.config.events&&this.props.config.events.onDragOver&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onDragOver.name,[kt({},this.props.config.events.onDragOver,{},e)],!0))}},{key:"handleOnDragLeave",value:function(e){this.props.config.events&&this.props.config.events.onDragLeave&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onDragLeave.name,[kt({},this.props.config.events.onDragLeave,{},e)],!0))}},{key:"handleOnDrop",value:function(e){this.props.config.events&&this.props.config.events.onDrop&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onDrop.name,[kt({},this.props.config.events.onDrop,{},e)],!0))}},{key:"handleKeyDown",value:function(e){if(this.props.config.events&&this.props.config.events.onKeyDown){var t=this.props.config.events.onKeyDown,n=kt({},this.props.config.events.onKeyDown,{},t,{text:e.target.value,altKey:e.altKey,charCode:e.charCode,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,which:e.which});P.a.trigger(t.name,[n,kt({},this.props.config,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}}},{key:"handleScroll",value:function(e){this.props.config.events&&this.props.config.events.onScroll&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onScroll.name,[kt({},this.props.config.events.onScroll)],!0))}},{key:"shouldHide",value:function(){var e=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(st.jb)(e)}},{key:"render",value:function(){var e=this;if(this.props.renderedForEach&&this.props.forceReplace&&this.replaceConfigFunc([],{},this.props.config),this.id=!this.state.reconstruct&&this.id||Object(D.a)(),this.state.reconstruct=null,this.conditionalConfigMerge(!0),Object(st.U)(this.props.config),this.shouldHide())return a.createElement("div",{style:{display:"none"}});var t=this.createComponents(),n={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onClick:this.handleOnClick.bind(this),onDragStart:this.handleOnDragStart.bind(this),onDragEnter:this.handleOnDragEnter.bind(this),onDragOver:this.handleOnDragOver.bind(this),onDragLeave:this.handleOnDragLeave.bind(this),onDrop:this.handleOnDrop.bind(this),onKeyDown:this.handleKeyDown.bind(this),onScroll:this.handleScroll.bind(this)},o=this.props.config.style||{},i=this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{},r=kt({},o,{},this.state.style,{},i),s=a.createElement(Et,{key:this.id,style:r,props:n,ref:function(t){e.Container=t}},t);return this.props.config.animateClass&&(s=a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},s)),this.state.forceReplace=!1,s}},{key:"findDOMNode",value:function(){return l.findDOMNode(this.Container)}}]),t}(bt);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Ct}),"Container");var wt=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).state={hovered:!1,style:{}},n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"shouldHide",value:function(){var e=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(st.jb)(e)}},{key:"render",value:function(){if(Object(st.U)(this.props.config),this.shouldHide())return null;var e=ct.a.get(rt.Mb),t=at.a.getTranslationOnlyIfExist(this.props.config.title,e.get(rt.Ec));return a.createElement("a",{style:jt({},this.props.config.style?this.props.config.style:{},{},this.state?this.state.style:{}),href:this.props.config.href?this.props.config.href:"#",onClick:this.props.onClick,target:this.props.config.href?"_blank":""},t)}}]),t}(a.Component);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return wt}),"Link");var It=n(36),Pt=(It.Block,It.Inline,function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).conditionalConfigMerge(),n.originalConfig=JSON.parse(JSON.stringify(e.config)),n.replaceConfigFunc(),n.state={hovered:!1},n.pref=ct.a.get(rt.Mb),n.handleClick=n.handleClick.bind(k()(n)),n.handleMouseEnter=n.handleMouseEnter.bind(k()(n)),n.handleMouseLeave=n.handleMouseLeave.bind(k()(n)),n.dataAuto=n.getDataAutoAttr(e),n}return C()(t,e),d()(t,[{key:"conditionalConfigMerge",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var n=function(){var t=Object(st.H)(e.props.config.conditionalConfigMerge)?[e.props.config.conditionalConfigMerge]:e.props.config.conditionalConfigMerge;for(var n in t){var o=t[n],i=o.c?new pt.a(o.c):null;o.config&&(null===i||i&&i.check(e.props.config,o,e.props.config))&&T.a.withOptions(e.props.config,[o.config],o.options||{arrayBehaviour:"replace"})}};t&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||n()}catch(e){}}},{key:"replaceConfigFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(Object(st.A)(this.originalConfig.placeHoldersFunctions)){var n=Object(st.A)(e)?[].concat(u()(this.originalConfig.placeHoldersFunctions),u()(e)):this.originalConfig.placeHoldersFunctions,o=Object(st.T)(this.originalConfig,n,{},Dt({},this.originalConfig,{},t));Object.assign(this.props.config,o)}}catch(e){}}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&P.a.trigger(this.props.config.events.onMount.name,[Dt({},this.props.config.events.onMount,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"shouldHide",value:function(){var e=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(st.jb)(e)}},{key:"render",value:function(){this.conditionalConfigMerge(!0),Object(st.U)(this.props.config);var e=a.createElement("div",{style:{display:"none"}});if(this.shouldHide())return e;var t=this.handleText();return e=a.createElement("div",{ref:this.props.config.id,"data-auto":this.dataAuto,style:Dt({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInnerHTML:!0===this.props.config.html?{__html:t}:null},!0===this.props.config.html?null:t)}},{key:"handleText",value:function(){var e=this.props.config.dynamic?this.getCurrentText():this.state.hasOwnProperty("text")?this.state.text:this.props.config.text;return 1!=this.props.config.disable_trans&&(e=at.a.getTranslationOnlyIfExist(e,this.pref.get(rt.Ec))),this.props.config.textOptions&&this.props.config.textOptions.capitalize&&(e=Object(st.f)(e)),e}},{key:"getCurrentText",value:function(){return this.state.text||""===this.state.text?this.state.text:this.props.config.text_key?localStorage[this.props.config.text_key]:this.props.config.text?this.props.config.text:""}},{key:"handleMouseEnter",value:function(e){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(e){this.setState({hovered:!1})}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){var t={active:this.state.active},n=Dt({},t=null==t.active?null:t,{},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});e.stopPropagation(),P.a.trigger(this.props.config.events.onClick.name,[n,Dt({},this.props.config)])}this.props.onClick&&this.props.onClick(e)}}]),t}(bt));I.a.add((function(){return Pt}),"Text");var xt=function(e){return a.Children.toArray(e.children)[0]||null};function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt=n(36).Block,At=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).pref=ct.a.get(rt.Mb),n.props=e,n.state={style:{},hovered:!1},n.props.config.key&&(n.state.active=1),e.config.selected&&(n.state={style:_t({},n.state?n.state.style:{},{},e.config.selectedStyle),hovered:!1}),n.getStateFromLocalStorage(),n.handleClick=n.handleClick.bind(k()(n)),n.handleMouseEnter=n.handleMouseEnter.bind(k()(n)),n.handleMouseLeave=n.handleMouseLeave.bind(k()(n)),n.dataAuto=n.getDataAutoAttr(e),n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"render",value:function(){this.getStateFromLocalStorage();var e=ct.a.get(rt.Mb),t=a.createElement("div",{style:{display:"none"}}),n={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-auto":this.dataAuto};if(null!=this.state.active&&(this.state.active=this.pref.get(this.props.config.key),this.props.config.style=this.getStyleByState(this.state.active),this.props.config.text=this.getTextByState(this.state.active)),!this.props.config.hide){var o=at.a.getTranslationOnlyIfExist(this.props.config.text,e.get(rt.Ec));t=a.createElement(Nt,{style:_t({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:n},o)}return!this.props.config.hide&&this.props.config.animateClass&&(t=a.createElement(j.a,{component:xt,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},this.props.config.hide?null:t)),t}},{key:"handleMouseEnter",value:function(e){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(e){this.setState({hovered:!1})}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){var t={active:this.state.active},n=_t({},t=null==t.active?null:t,{},this.props.config.events.onClick);e.stopPropagation(),P.a.trigger(this.props.config.events.onClick.name,[n,_t({},this.props.config)])}this.props.onClick&&this.props.onClick(e)}},{key:"getStyleByState",value:function(e){return this.props.config.options[e].style||this.props.config.style}},{key:"getTextByState",value:function(e){return this.props.config.options[e].text}},{key:"getStateFromLocalStorage",value:function(){this.props.config.stateFromLocalStorage&&this.props.config.stateFromLocalStorage.local_storage&&(Object(st.U)(this.props.config.stateFromLocalStorage),this.props.config.stateFromLocalStorage.stateKey?this.state[this.props.config.stateFromLocalStorage.stateKey]=Object.assign(this.state[this.props.config.stateFromLocalStorage.stateKey],this.props.config.stateFromLocalStorage):this.state=Object.assign(this.state,this.props.config.stateFromLocalStorage))}}]),t}(bt);I.a.add((function(){return At}),"Item");var Lt=n(363),Ft=n(362),Rt=n(360),Bt=n(361);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).changeEventValueSubject=new Lt.a,n.unSubscribeSubject=new Lt.a,n.isTranslationActive=!1,n.query="",n.debounceChangeTime=0,n.handleChange=n.handleChange.bind(k()(n)),n.handleClick=n.handleClick.bind(k()(n)),n.handleKeyDown=n.handleKeyDown.bind(k()(n)),n.handleFocus=n.handleFocus.bind(k()(n)),n.handleBlur=n.handleBlur.bind(k()(n)),n.state={text:e.config.text||"",style:{}},n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.takeFocusOnInterval();var t=ct.a.get(rt.Mb);if(this.isTranslationActive=t.get(rt.Ec),this.mounted=!0,this.props.config.attributes){var n=l.findDOMNode(this);if(n)for(var o in this.props.config.attributes)n.setAttribute(o,this.props.config.attributes[o])}vt.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&P.a.trigger(this.props.config.events.onMount.name,[Ut({},this.props.config.events.onMount)]),this.debounceChangeTime=+this.props.config.debounceTime||0,this.changeEventValueSubject.pipe(Object(Ft.a)(this.debounceChangeTime),Object(Rt.a)(),Object(Bt.a)(this.unSubscribeSubject)).subscribe((function(t){e.handleChangeSubject(t)}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours),this.unSubscribeSubject.next(!0),this.unSubscribeSubject.complete()}},{key:"render",value:function(){var e=this,t=a.createElement("div",{style:{display:"none"}}),n=this.props.config.inputType?this.props.config.inputType:"text",o=Ut({text:this.props.config.text},this.state&&void 0!==this.state.text?this.state:{}).text;o=this.isTranslationActive?at.a.getTranslationOnlyIfExist(o,this.isTranslationActive):o;var i=this.props.config.direction||"ltr",r=this.props.config.htmlTag||"input";if(this.props.config.hide)return t;var s=Ut({},this.props.config.focusStyle,{},this.state.focusStyle),c=Ut({},this.props.config.style,{},this.state.style);return c=this.state.focus&&Object.keys(s)>0?s:c,t=a.createElement(r,{className:this.props.config.class,onFocus:this.handleFocus,onBlur:this.handleBlur,type:n,dir:i,ref:function(t){return e.textInput=t},autoFocus:this.shouldTakeFocus(),onClick:this.handleClick,onKeyDown:this.handleKeyDown,onChange:this.handleChange,placeholder:this.props.config.placeholder,value:"text"!==n&&"search"!==n||void 0!==o?o:"",style:c}),this.props.config.animateClass&&(t=a.createElement(j.a,{component:xt,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},this.props.config.hide?null:t)),t}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){var t=Ut({},this.props.config.events.onClick);e.stopPropagation(),P.a.trigger(this.props.config.events.onClick.name,[t,Ut({},this.props.config)])}}},{key:"handleChange",value:function(e){this.setState({text:e.target.value}),this.props.config.events&&this.props.config.events.onChange&&this.changeEventValueSubject.next(e.target.value)}},{key:"handleChangeSubject",value:function(e){var t=Ut({},this.props.config.events.onChange,{text:e.text||e});P.a.trigger(this.props.config.events.onChange.name,[Ut({},t,{file:this.textInput.files}),Ut({},this.props.config)])}},{key:"handleKeyDown",value:function(e){if(this.props.config.events&&this.props.config.events.onKeyDown){var t=this.props.config.events.onKeyDown,n=Ut({},this.props.config.events.onKeyDown,{},t,{text:e.target.value.text||e.target.value,altKey:e.altKey,charCode:e.charCode,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,which:e.which});P.a.trigger(t.name,[n,Ut({},this.props.config)])}}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1})}}]),t}(bt);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Kt}),"Input");var Vt=n(36).Block,$t=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).conditionalConfigMerge(),n.originalConfig=JSON.parse(JSON.stringify(e.config)),n.replaceConfigFunc(),n.state={hovered:!1},n.pref=ct.a.get(rt.Mb),n.state.iframeSettings=n.props.config.iframeSettings,n.handleClick=n.handleClick.bind(k()(n)),n.handleMouseEnter=n.handleMouseEnter.bind(k()(n)),n.handleMouseLeave=n.handleMouseLeave.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"conditionalConfigMerge",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var n=function(){var t=Object(st.H)(e.props.config.conditionalConfigMerge)?[e.props.config.conditionalConfigMerge]:e.props.config.conditionalConfigMerge;for(var n in t){var o=t[n],i=o.c?new pt.a(o.c):null;o.config&&(null===i||i&&i.check(e.props.config,o,e.props.config))&&T.a.withOptions(e.props.config,[o.config],o.options||{arrayBehaviour:"replace"})}};t&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||n()}catch(e){}}},{key:"replaceConfigFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=Array.isArray(this.props.config.placeHoldersFunctions)?[].concat(u()(this.props.config.placeHoldersFunctions),u()(e)):e,o=Object(st.T)(this.props.config,n,{},Gt({},this.props.config,{},t));Object.assign(this.props.config,o)}catch(e){}}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"shouldHide",value:function(){var e=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(st.jb)(e)}},{key:"render",value:function(){this.conditionalConfigMerge(!0),Object(st.U)(this.props.config);var e={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t=null;this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;if(this.shouldHide())return t;var n=this.props.config.iframeSettings,o={src:this.state.src||this.props.config.src||n.src||"",width:n.width||"300px",height:n.height||"300px",frameBorder:n.frameBorder||"0",scrolling:n.scrolling||"no",style:n.style||{}};n.allowFullScreen&&(o.allowFullScreen=n.allowFullScreen);var i=a.createElement("iframe",o);return t=a.createElement(Vt,{style:Gt({},this.props.config.style||{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:e},i)}},{key:"componentDidCatch",value:function(e,t){it.a.debug(e,t)}},{key:"handleMouseEnter",value:function(e){this.setState({hovered:!0}),this.props.config.events&&this.props.config.events.onMouseEnter&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onMouseEnter.name,[Gt({},this.props.config.events.onMouseEnter,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})]))}},{key:"handleMouseLeave",value:function(e){this.setState({hovered:!1}),this.props.config.events&&this.props.config.events.onMouseLeave&&(e.stopPropagation(),e.preventDefault(),P.a.trigger(this.props.config.events.onMouseLeave.name,[Gt({},this.props.config.events.onMouseLeave,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})]))}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){var t={active:this.state.active},n=Gt({},t=void 0===t.active?null:t,{},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});e.stopPropagation(),P.a.trigger(this.props.config.events.onClick.name,[n,Gt({},this.props.config)])}this.props.onClick&&this.props.onClick(e)}}]),t}(a.Component);function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return $t}),"Iframe");var Yt=n(36).Block,qt=function(e){function t(e){return h()(this,t),y()(this,b()(t).call(this,e))}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"createComponents",value:function(){var e;if(this.props.config.components){var t=this.props.config.components,n=this.props.config.itemStyle,o=this;e=Object.keys(this.props.config.components).map((function(e){var i=I.a.createComponent("Item"),r=Jt({},t[e]);return r.style=Jt({},n,{},t[e].style),a.createElement(i,{key:e,config:r,onClick:o.handleItemClick.bind(this,e)})}))}return e}},{key:"render",value:function(){var e=this.createComponents();return a.createElement(Yt,{style:this.props.config.style},e)}},{key:"handleItemClick",value:function(e,t){}}]),t}(a.Component);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return qt}),"ItemsContainer");var Qt=n(36).Block,en=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).state={selected:e.config?e.config.options[e.config.selectedOption]:{label:e.placeholder||"Select...",value:""},isOpen:!1,hovered:!1,menuItemHoveredIndex:-1},n.mounted=!0,n.handleDocumentClick=n.handleDocumentClick.bind(k()(n)),n.fireChangeEvent=n.fireChangeEvent.bind(k()(n)),n.handleMouseEnter=n.handleMouseEnter.bind(k()(n)),n.handleMouseLeave=n.handleMouseLeave.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){e.config&&e.config.options[e.config.selectedOption]!==this.state.selected&&this.setState({selected:e.config.options[e.config.selectedOption]})}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}document.addEventListener("click",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1)}},{key:"handleMouseEnter",value:function(e){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(e){this.setState({hovered:!1})}},{key:"handleItemMouseEnter",value:function(e){this.setState({menuItemHoveredIndex:e})}},{key:"handleItemMouseLeave",value:function(){this.setState({menuItemHoveredIndex:-1})}},{key:"handleDocumentClick",value:function(e){this.mounted&&(l.findDOMNode(this).contains(e.target)||this.setState({isOpen:!1}))}},{key:"handleMouseDown",value:function(e){"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setState({isOpen:!this.state.isOpen}))}},{key:"setValue",value:function(e){var t={selected:e,isOpen:!1};this.fireChangeEvent(t),this.setState(t)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e,t){var n=this,o=e.value||e.label||e,i=e.label||("string"==typeof e?e:" "),r=t>0?a.createElement(Qt,{style:this.props.config.optionSeparatorStyle}):null,s=this.state.menuItemHoveredIndex===t&&this.props.config.optionHoverStyle?this.props.config.optionHoverStyle:{};return a.createElement(Qt,{key:o},r,a.createElement("div",{style:Zt({},e.style,{},this.props.config.optionStyle,{},s),onMouseDown:this.setValue.bind(this,e),onClick:this.setValue.bind(this,e),onMouseEnter:function(){return n.handleItemMouseEnter(t)},onMouseLeave:function(){return n.handleItemMouseLeave(t)}},"text"==this.props.config.optionView?e.text:i))}},{key:"renderMenu",value:function(){var e=this,t=this.props.config.options.map((function(t,n){return e.state.selected===t?null:e.renderOption(t,n)}));return t.length?t:a.createElement("div",null,"No options found")}},{key:"getSelectedValueByConfig",value:function(){return{value:"text"==this.props.config.optionView?this.state.selected.text:this.state.selected.label,selectedStyle:Zt({},this.props.config.optionStyle,{},this.state.selected&&this.state.selected.style)}}},{key:"getBorderByMenuState",value:function(){var e=this.props.config.style,t=e&&e.borderRadius&&+e.borderRadius.replace("px","");if(!isNaN(t)){var n="".concat(t,"px"),o="".concat(t/2,"px");return this.state.isOpen&&this.props.config.isAnimate?{borderTopLeftRadius:n,borderTopRightRadius:n,borderBottomLeftRadius:o,borderBottomRightRadius:o}:{borderTopLeftRadius:n,borderTopRightRadius:n,borderBottomLeftRadius:n,borderBottomRightRadius:n}}return{}}},{key:"render",value:function(){var e={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)},t=this.getSelectedValueByConfig(),n=t.value,o=t.selectedStyle,i=this.state.isOpen?a.createElement(Qt,null,this.renderMenu()):null,r=this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{},s={display:this.state.isOpen?"block":"none"};return a.createElement(Qt,{style:Zt({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},r,{},this.getBorderByMenuState()),props:e},a.createElement("div",{onMouseDown:this.handleMouseDown.bind(this),style:o},n),a.createElement(Qt,{style:Zt({},this.props.config.optionsContainerStyle,{},s)},i))}}]),t}(a.Component);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}en.defaultProps={baseClassName:"Dropdown"},I.a.add((function(){return en}),"DropDown");var on=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).search=ct.a.get(rt.dc),n.state={options:n.searchEngines2Options(),selectedOption:n.search.getTempOrCurrentSearchEngineIndex()},n}return C()(t,e),d()(t,[{key:"render",value:function(){var e=this.getStateWithTempOrCurrentEngine();return a.createElement(en,{config:e,onChange:this.handleClick.bind(this)})}},{key:"getStateWithTempOrCurrentEngine",value:function(){return nn({},this.props.config,{},this.state,{selectedOption:this.search.getTempOrCurrentSearchEngineIndex()})}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleClick",value:function(e){if(this.search.setCurrentSearchEngine(e.value),this.setState({selectedOption:this.search.getTempOrCurrentSearchEngineIndex()}),this.props.config.events&&this.props.config.events.onChange){var t=nn({},this.props.config.events.onChange),n={engineId:this.search.getEngines()[this.search.getTempOrCurrentSearchEngineIndex()].id};P.a.trigger(this.props.config.events.onChange.name,[nn({},t,{},this.props.config,{},n)])}}},{key:"searchEngines2Options",value:function(){for(var e=[],t=this.search.getEngines(),n=0;n<Object.keys(t).length;n++){var o=t[n],i=this.setStyle(o);e.push({label:o.logo?"":o.shortName,text:o.shortName||o.id||"",value:o.id,style:i})}return e}},{key:"setStyle",value:function(e){return"text"==this.props.config.optionView?{color:e.engineColor||this.props.config.defaultEngineColor}:e.logo?{backgroundImage:"url(content/images/".concat(e.logo,")")}:{}}}]),t}(a.Component);function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return on}),"SearchEngineSelect");var an=n(36).Block,cn=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).search=ct.a.get(rt.dc),n.state={rows:[],selected:-1,style:{}},n}return C()(t,e),d()(t,[{key:"componentWillUpdate",value:function(e,t){if(e.config.forceSearchToFirstExternalSuggest&&t.rowsChanged)for(var n in t.rowsChanged=!1,t.rows){var o=t.rows[n];if(this.isObjectFromExternalAPI(o)){ct.a.get(rt.dc).setSearchObject(e.config.stringId,{clickUrl:o.clickUrl,tracking:o.tracking});break}}}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"handleMouseEnter",value:function(e){this.setState({selected:e[0]})}},{key:"handleMouseClick",value:function(e){var t=this.state.rows[this.state.selected];if(Object(st.H)(t)||(t={text:t}),P.a.trigger(rt.h,[t]),this.props.config.events&&this.props.config.events.onClick){var n=sn({},this.props.config.events.onClick,{},t,{searchObject:t});P.a.trigger(this.props.config.events.onClick.name,[n,sn({},this.props.config)])}}},{key:"isObjectFromExternalAPI",value:function(e){return"defaultSuggest"!=e.__listId}},{key:"renderRows",value:function(){var e=this,t=this.props.config.direction||"ltr",n=!1;return this.state.rows.map((function(o,i){var r=Object(st.H)(o)?o:{text:o};if(r.text){var s={},c=e.props.config.rowStyleFirstForced||!1,l=c&&!Object(st.I)(c),p=e.isObjectFromExternalAPI(o);if(l&&!n&&p)n=!0,s=c;else{var u=e.props.config.rowStyleSelected||!1;s=u&&!Object(st.I)(u)&&e.state.selected===i?u:e.props.config.rowStyle}Object.assign(s,{display:"flex",flexDirection:"row",alignItems:"center"});var f=e.getImageComponent(r.image||r.imageUrl),h=e.props.config.keywordStyle||!1;h=h||{};var g=Object(st.db)(r.text,e.query);return a.createElement("div",{key:i,dir:t,style:s,onMouseEnter:e.handleMouseEnter.bind(e,[i]),onClick:e.handleMouseClick.bind(e,[i])},f,e.getSpaceBetweenComponent(f),g[0],a.createElement("span",{style:h},g[1]),g[2])}}))}},{key:"getImageComponent",value:function(e){if(!this.props.config.iconSettings)return null;if(Object(st.D)(this.props.config.iconSettings.mode))return null;var t=sn({height:this.props.config.rowStyle.height||"auto"},this.props.config.iconSettings.style);switch(this.props.config.iconSettings.mode){case"enable":var n=e||(Object(st.D)(this.props.config.iconSettings.fallbackImage)?rt.Fc:this.props.config.iconSettings.fallbackImage);return a.createElement("img",{style:t,src:n});case"enableExceptMissingImages":return e?a.createElement("img",{style:t,src:e}):null;default:return null}}},{key:"getSpaceBetweenComponent",value:function(e){return e?a.createElement("span",{style:{width:this.props.config.iconSettings.spaceBetween||"5px"}}):null}},{key:"render",value:function(){var e=a.createElement("div",{style:{display:"none"}});return!this.props.config.hide&&this.state.rows.length>0&&(e=a.createElement(an,{style:sn({},this.props.config.style,{},this.state.style)},this.renderRows())),e}}]),t}(bt);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return cn}),"SearchAutoSuggest");var un=n(36),fn=un.InlineBlock,hn=un.Block,gn=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).state={isOpen:!1,menuStyle:{},style:{}},n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"handleSupportButtonClick",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"renderMenu",value:function(){var e=this.props.config.components,t=Object.keys(e).map((function(t,n){var o=e[t],i=I.a.createComponent(o.type);return a.createElement(hn,{key:t},a.createElement(i,{config:o}))}));return a.createElement(hn,{style:pn({},this.props.config.menuStyle,{},this.state.menuStyle),key:"menu"},t)}},{key:"render",value:function(){var e=this.handleSupportButtonClick.bind(this),t=this.state.isOpen?this.renderMenu():null;return this.props.config.animateClass&&(t=a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionEnterTimeout:0,transitionLeaveTimeout:0},t)),a.createElement(fn,null,a.createElement(At,{onClick:e,config:this.props.config}),t)}}]),t}(a.Component);function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return gn}),"SupportButton");var yn=n(36).Block,vn=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).state={hovered:!1,currentComponent:0,style:{},componentsState:{},activeComponents:[],inactiveComponents:[]},n.isIntervalComponent=!0,n.combinedStates={},n.pref=ct.a.get(rt.Mb),n.handleMouseEnter=n.handleMouseEnter.bind(k()(n)),n.handleMouseLeave=n.handleMouseLeave.bind(k()(n)),n.updateConfigFromConfig(),n.updateConfigFromState(),n.updateConfigFromLocalStorage(),n.populateStateArraysFromConfig(),n.insertStateIntoLocalStorage(),n}return C()(t,e),d()(t,[{key:"updateConfigFromConfig",value:function(){if(this.props.config.components){var e=this.props.config.components,t={};for(var n in e)if(e.hasOwnProperty(n)&&e[n].id){var o=e[n];t[o.id]=!(o.hasOwnProperty("active")&&!o.active)}Object.assign(this.combinedStates,t)}}},{key:"updateConfigFromState",value:function(){Object.assign(this.combinedStates,this.state.componentsState)}},{key:"updateConfigFromLocalStorage",value:function(){var e=!!this.props.config.localStorageKey&&this.pref.get(this.props.config.localStorageKey);e&&"object"===s()(e)&&Object.assign(this.combinedStates,e)}},{key:"populateStateArraysFromConfig",value:function(){if(this.props.config.components){var e={},t=this.props.config.components;for(var n in t)t[n].id&&(e[t[n].id]=t[n]);for(var o in this.state.activeComponents=[],this.state.inactiveComponents=[],this.combinedStates)e[o]&&(this.combinedStates[o]&&!1!==e[o].active?this.state.activeComponents.push(e[o]):this.state.inactiveComponents.push(e.id))}}},{key:"insertStateIntoLocalStorage",value:function(){this.props.config.localStorageKey&&this.pref.set(this.props.config.localStorageKey,this.combinedStates)}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.startInterval(),this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.clearInterval(),yt.bind(this)(this.props.config.behaviours)}},{key:"handleMouseEnter",value:function(e){this.setState({hovered:!0}),this.clearInterval()}},{key:"handleMouseLeave",value:function(e){this.setState({hovered:!1}),this.startInterval()}},{key:"startInterval",value:function(){var e=this,t=e.props.config.interval||1e3;this.clearInterval(),this.interval=setInterval((function(){e.updateConfigFromState(),e.populateStateArraysFromConfig(),e.setState({currentComponent:e.nextComponentKey()})}),t)}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.interval&&clearInterval(this.interval)}))},{key:"renderComponent",value:function(){var e=this.state.activeComponents;if(!e.length)return null;var t=Object.keys(e)[this.state.currentComponent],n=I.a.createComponent(e[t].type),o=e[t];return a.createElement(n,{config:o,key:t})}},{key:"renderButton",value:function(){var e=this.state.activeComponents;if(!e.length)return null;var t=this.handleClick.bind(this),n=this.nextComponentKey(),o=e[n].button,i=I.a.createComponent(o.type);return o=mn({},o),a.createElement(i,{config:o,onClick:t,key:n})}},{key:"componentWillUpdate",value:function(e){}},{key:"render",value:function(){if(0===this.state.activeComponents.length)return null;var e=this.renderButton(),t=this.renderComponent(),n={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)};return a.createElement(yn,{props:n,style:mn({},this.props.config.style,{},this.state.style)},a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},e),a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},t))}},{key:"handleClick",value:function(){this.clearInterval(),this.setState({currentComponent:this.nextComponentKey()}),this.startInterval()}},{key:"nextComponentKey",value:function(){var e=0;return 1===this.state.activeComponents.length?e:(this.state.currentComponent+1>=Object.keys(this.state.activeComponents).length||(e=this.state.currentComponent+1),e)}}]),t}(a.Component);function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}I.a.add((function(){return vn}),"IntervalComponents");var On=n(36).Block,kn=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).state={isOpen:!1},n.popupComponentKey=!1,n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"renderPopup",value:function(){var e=this.props.config.components,t=I.a.createComponent(e.popup.type);return this.popupComponentKey=this.popupComponentKey||Object(D.a)(),a.createElement(t,{config:e.popup,key:this.popupComponentKey})}},{key:"render",value:function(){var e=this.state.isOpen?this.renderPopup():null,t=I.a.createComponent(this.props.config.components.button.type),n=t?a.createElement(t,{config:this.props.config.components.button}):null;this.props.config.animateClass&&(e=a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},e));var o=this.props.config.style;return this.state.style&&(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.config.style,{},this.state.style)),a.createElement(On,{style:o},n,e)}}]),t}(bt);I.a.add((function(){return kn}),"Popup");var En=n(36).InlineBlock;function Cn(e){return a.Children.toArray(e.children)[0]||null}var Sn=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).state={hide:n.props.config.hide},n}return C()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){this.state.hide!==e.config.hide&&this.setState({hide:e.config.hide})}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}this.startInterval()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.clearInterval()}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.interval&&clearInterval(this.interval)}))},{key:"startInterval",value:function(){var e=this;this.clearInterval(),this.interval=setInterval((function(){e.forceUpdate()}),e.props.config.interval?e.props.config.interval:1e4)}},{key:"render",value:function(){var e=ct.a.get(rt.Mb),t="{{DATE_FORMAT}}"!=e.get(rt.L)?e.get(rt.L):"{{d}}.{{m}}.{{y}}",n=new Date,o="".concat(n.getHours(),":").concat("0".concat(n.getMinutes()).slice(-2)),i=at.a.getTranslationOnlyIfExist(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()],e.get(rt.Ec)),r=t.replace("{{m}}",n.getMonth()+1).replace("{{d}}",n.getDate()).replace("{{y}}",n.getFullYear()),s=null,c=at.a.getTranslationOnlyIfExist(this.props.config.text,e.get(rt.Ec));return this.state.hide||(s=a.createElement(En,{style:this.props.config.style?this.props.config.style:{},key:"clock",onClick:this.props.onClick},c,a.createElement(En,{style:this.props.config.hourStyle},o),a.createElement(En,{style:this.props.config.dateStyle},a.createElement("p",{style:this.props.config.dayStyle},i),a.createElement("p",{style:this.props.config.numStyle},r)))),!this.props.config.hide&&this.props.config.animateClass&&(s=a.createElement(j.a,{component:Cn,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},this.props.config.hide?null:s)),s}}]),t}(a.Component);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Sn}),"Clock");var Tn=n(36),Dn=Tn.InlineBlock,In=Tn.Block,Pn=function(e){function t(e){var n;h()(this,t),n=y()(this,b()(t).call(this,e));var o=ct.a.get(rt.Mb);return n.state={isCelsius:"imperial"!==o.get(rt.Lc),city:o.get(rt.y),icon:"",style:{},iconStyle:{}},n.state.temperature=n.state.isCelsius?24:75,n.handleChangeDegrees=n.handleChangeDegrees.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,vt.bind(this)(this.props.config.behaviours),P.a.trigger(rt.Kc,[]),this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"handleChangeDegrees",value:function(){var e=ct.a.get(rt.Mb),t=this.state.isCelsius?"imperial":"metric";e.set(rt.Lc,t),this.props.config.events.onUnitsChange&&P.a.trigger(this.props.config.events.onUnitsChange.name,[{unit:t}])}},{key:"render",value:function(){var e=a.createElement("div",{style:{display:"none"},key:"emptyWeather"}),t=ct.a.get(rt.Mb),n=this.state.temperature,o=wn({},this.props.config.iconStyle,{},this.state.iconStyle,{backgroundImage:this.state.icon}),i=this.state.city,r={onClick:this.handleChangeDegrees},s=at.a.getTranslationOnlyIfExist(this.state.isCelsius?"C":"F",t.get(rt.Ec));return this.props.config.hide||(e=a.createElement(Dn,{style:wn({},this.props.config.style?this.props.config.style:{},{},this.state.style),key:"clock",onClick:this.props.onClick},a.createElement(In,{style:this.props.config.tempStyle},a.createElement(Dn,null,n),a.createElement(Dn,{style:this.props.config.degStyle},""),a.createElement(In,{style:this.props.config.unitsStyle,props:r},s)),a.createElement(Dn,{style:this.props.config.frightStyle},a.createElement(In,{style:o}),a.createElement(Dn,{style:this.props.config.cityStyle},i)))),!this.props.config.hide&&this.props.config.animateClass&&(e=a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},e)),e}}]),t}(a.Component);function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Pn}),"Weather");var _n=n(36).Block,Nn=function(e){function t(e){var n;h()(this,t),(n=y()(this,b()(t).call(this,e))).state={hovered:!1,hide:n.props.config.hide},n.handleClick=n.handleClick.bind(k()(n)),n.handleMouseEnter=n.handleMouseEnter.bind(k()(n)),n.handleMouseLeave=n.handleMouseLeave.bind(k()(n)),n.pref=ct.a.get(rt.Mb);var o=ct.a.get(rt.Cc),i=n.pref.get("rssFeed_".concat(n.props.config.id)),r=n.pref.get("rssFeed_".concat(n.props.config.id,"_LastUpdate"));return n.toggle=function(e){this.pref.set("rssFeed_".concat(this.props.config.id,"_hide"),!e),this.setState({hide:!e})},n.changeFeed=function(e,t){this.pref.set("rssFeed_".concat(this.props.config.id,"_feed"),e),this.setState({feed:e},t)},n.getFeed=function(){var e=this;Object(ft.a)({method:"get",url:this.props.config.feeds[this.state.feed]}).then((function(t){var n=t.data;r=(new Date).getTime();var o=(new DOMParser).parseFromString(n,"text/xml"),s=[],a=Array.prototype.slice.call(o.getElementsByTagName("item"));e.props.config.sort&&a.sort((function(e,t){return 0==e.getElementsByTagName("pubDate").length&&0==t.getElementsByTagName("pubDate").length?0:0==t.getElementsByTagName("pubDate").length?-1:0==e.getElementsByTagName("pubDate").length?1:new Date(t.getElementsByTagName("pubDate")[0].textContent)-new Date(e.getElementsByTagName("pubDate")[0].textContent)}));for(var c=0;c<a.length&&c<e.props.config.numberOfItems;c++){var l=a[c];if(0!=l.getElementsByTagName("title").length&&0!=l.getElementsByTagName("link").length&&0!=l.getElementsByTagName("pubDate").length){var p={title:l.getElementsByTagName("title")[0].textContent,link:l.getElementsByTagName("link")[0].textContent,pubDate:l.getElementsByTagName("pubDate")[0].textContent};if(l.getElementsByTagName("content").length>0||l.getElementsByTagName("thumbnail").length>0){var u=l.getElementsByTagName("content").length>0&&l.getElementsByTagName("content")[0].attributes.url?l.getElementsByTagName("content")[0]:l.getElementsByTagName("thumbnail")[0];u&&(p.media={},u.attributes.url&&(p.media.url=u.attributes.url.nodeValue),u.attributes.width&&(p.media.width="".concat(u.attributes.width.nodeValue,"px")),u.attributes.height&&(p.media.height="".concat(u.attributes.height.nodeValue,"px")))}s.push(p)}}if(i={title:o.getElementsByTagName("title")[0].textContent,link:o.getElementsByTagName("link")[0].textContent,items:s},o.getElementsByTagName("image").length>0){var f=o.getElementsByTagName("image")[0];i.image={},f.getElementsByTagName("url").length>0&&(i.image.url=f.getElementsByTagName("url")[0].textContent),f.getElementsByTagName("title").length>0&&(i.image.title=f.getElementsByTagName("title")[0].textContent),f.getElementsByTagName("width").length>0&&(i.image.width="".concat(f.getElementsByTagName("width")[0].textContent,"px")),f.getElementsByTagName("height").length>0&&(i.image.height="".concat(f.getElementsByTagName("height")[0].textContent,"px")),f.getElementsByTagName("link").length>0&&(i.image.link=f.getElementsByTagName("link")[0].textContent)}e.state.id=parseInt(e.props.config.id),e.pref.set("rssFeed_".concat(e.props.config.id,"_hide"),e.state.hide),e.pref.set("rssFeed_".concat(e.props.config.id,"_feed"),e.state.feed),e.pref.set("rssFeed_".concat(e.props.config.id),i),e.pref.set("rssFeed_".concat(e.props.config.id,"_LastUpdate"),r),e.renderHTML(),e.forceUpdate()})).catch((function(e){o.trackStatusEvent(rt.W,"doPost error","".concat(e," @RssFeed constructor"))}))},n.renderHTML=function(){var e=this;var t=this.pref.get("rssFeed_".concat(this.props.config.id)),n=I.a.createComponent("Image"),o=(I.a.createComponent("Link"),I.a.createComponent("Text"),I.a.createComponent("Container")),i=I.a.createComponent("DropDown"),r=[],s=function(o){var i=t.items[o],s={parentStyle:Mn({},e.props.config.imageParentStyle),style:Mn({},i.media&&i.media.width?{width:i.media.width}:{},{},i.media&&i.media.height?{height:i.media.height}:{},{},e.props.config.imageStyle,{},i.media&&i.media.url?{}:{display:"none"}),image_location:i.media?i.media.url:null};var c,l,p,u,f,h,g,d,m=function(){P.a.trigger(rt.Vb,[{url:i.link}])},y=(c=i.title,(l=document.createElement("div")).innerHTML=c,0===l.childNodes.length?"":l.childNodes[0].nodeValue);r.push(a.createElement(_n,{key:o,style:e.props.config.itemStyle},a.createElement(n,{config:s,onClick:m}),a.createElement("div",{style:Mn({},e.props.config.imageSeparatorStyle,{},i.media&&i.media.url?{}:{display:"none"})}),a.createElement(_n,{style:e.props.config.titlePubDateStyle},a.createElement("div",{style:e.props.config.linkStyle,onClick:m},y),a.createElement(_n,{style:e.props.config.pubDateStyle},(p=new Date(i.pubDate),u=new Date,f=new Date("".concat(u.getFullYear(),"-").concat(u.getMonth()+1,"-").concat(u.getDate())),h=new Date("".concat(p.getFullYear(),"-").concat(p.getMonth()+1,"-").concat(p.getDate())),g=Math.floor((u-p)/1e3),(d=Math.floor(g/31536e3))>1?"".concat(d," years ago"):1==d?"1 year ago":(d=Math.floor(g/2592e3))>1?"".concat(d," months ago"):1==d?"1 month ago":(d=Math.floor(g/86400))>1?"".concat(d," days ago"):f-h==864e5?"yesterday":1==d?"1 day ago":(d=Math.floor(g/3600))>1?"".concat(d," hours ago"):1==d?"1 hour ago":(d=Math.floor(g/60))>1?"".concat(d," minutes ago"):1==d?"1 minute ago":"just now")))))};for(var c in t.items)s(c);var l,p=function(){P.a.trigger(rt.Wb,[{url:t.image?t.image.link:t.link}])},u=Mn({},t.image&&t.image.width?{width:t.image.width}:{},{},t.image&&t.image.height?{height:t.image.height}:{},{},this.props.config.feedImageStyle,{display:t.image&&t.image.url?"true":"none"}),f=a.createElement(_n,{style:this.props.config.buttonsWrapperStyle},a.createElement(o,{onClick:function(){e.toggle(!1),P.a.trigger(rt.Yb)},config:{style:this.props.config.buttonStyle,hover:this.props.config.buttonHoverStyle,components:[{type:"Text",text:"X",style:this.props.config.removeButtonStyle}]}}),a.createElement(i,{config:{style:Mn({},this.props.config.buttonStyle,{},this.props.config.settingsButtonStyle),hover:Mn({},this.props.config.buttonHoverStyle,{color:"transparent"}),options:Object.keys(this.props.config.feeds).map((function(e){return{label:e,value:e}})),valueWrapperStyle:this.props.config.dropDownValueWrapperStyle,optionStyle:this.props.config.dropDownOptionStyle,selectedOption:Object.keys(this.props.config.feeds).findIndex((function(t){return t===e.state.feed})),optionSeparatorStyle:this.props.config.dropDownOptionSeparatorStyle,optionsContainerStyle:this.props.config.dropDownOptionsContainerStyle},onChange:function(t){e.changeFeed(t.value,e.getFeed)}}));this.html=[a.createElement(_n,{key:0,style:this.props.config.feedImageBackgroundStyle}),t.image&&t.image.url?a.createElement(_n,{key:1,style:this.props.config.headerStyle},f,a.createElement(_n,{style:this.props.config.feedImageParentStyle},a.createElement("img",{style:u,src:t.image?t.image.url:null,onClick:p,title:t.image.title?t.image.title:t.title}))):a.createElement(_n,{key:1,style:this.props.config.headerStyle},f,a.createElement(_n,{style:this.props.config.feedImageTitleWrapperStyle,onClick:p},a.createElement("span",{style:this.props.config.feedImageTitleStyle,title:t.image&&t.image.title?t.image.title:t.title},t.image&&t.image.title?t.image.title:t.title))),a.createElement(_n,{key:2,style:Mn({},this.props.config.eventsWrapperStyle,{direction:(l=t.title,new RegExp("^[^".concat("---","]*?[").concat("---","]")).test(l)?"rtl":"ltr")})},r),a.createElement(_n,{key:3,style:this.props.config.moreWrapperStyle},a.createElement("span",{style:this.props.config.moreStyle,onClick:function(){P.a.trigger(rt.Xb,[{url:t.link}])}},"More"))]},!i||(new Date).getTime()-r>6e4*n.props.config.reloadIntervalMinutes?(n.state.feed=n.props.config.defaultFeed,n.getFeed()):(n.state.hide="true"===n.pref.get("rssFeed_".concat(n.props.config.id,"_hide")),n.state.feed=n.pref.get("rssFeed_".concat(n.props.config.id,"_feed")),n.state.id=parseInt(n.props.config.id),n.renderHTML()),n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;if(this.mounted=!0,this.props.config.attributes){var t=l.findDOMNode(this);if(t)for(var n in this.props.config.attributes)t.setAttribute(n,this.props.config.attributes[n])}vt.bind(this)(this.props.config.behaviours),P.a.on(rt.Ub,(function(t){if(e.state.hide){for(var n=1;n<e.state.id;n++)if("string"==typeof t["".concat(n)]&&"true"===t["".concat(n)]||"string"!=typeof t["".concat(n)]&&t["".concat(n)])return;e.toggle(!0)}}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"render",value:function(){var e={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)};return this.state.hide?null:a.createElement(_n,{style:Mn({},this.props.config.style,{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:e},this.html)}},{key:"handleMouseEnter",value:function(e){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(e){this.setState({hovered:!1})}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){var t={active:this.state.active},n=Mn({},t=null==t.active?null:t,{},this.props.config.events.onClick);e.stopPropagation(),P.a.trigger(this.props.config.events.onClick.name,[n,Mn({},this.props.config)])}this.props.onClick&&this.props.onClick(e)}}]),t}(a.Component);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Nn}),"RssFeed");var Fn=function(e){function t(e){var n;h()(this,t),(n=y()(this,b()(t).call(this,e))).state={hovered:!1,hideAddButton:n.props.config.maxNumOfFeeds==n.props.config.numOfFeeds},n.pref=ct.a.get(rt.Mb),n.props.config.components=[];var o=n.pref.get("cc"),i={};for(var r in n.props.config.verticals){var s=n.props.config.feeds[n.props.config.verticals[r]];s&&Object.assign(i,s[o]?s[o]:s.US)}for(var a={onClick:{name:rt.Ub,local_storage:[]}},c=1;c<=n.props.config.maxNumOfFeeds;c++)n.props.config.components.push(Ln({},n.props.config.feed,{id:c,hide:c>n.props.config.numOfFeeds,defaultFeed:n.props.config.defaultFeeds[c-1],feeds:i})),a.onClick.local_storage.push({field:"".concat(c),key:["rssFeed_".concat(c,"_hide")]});return n.props.config.components.push({type:"Container",style:n.props.config.plusButtonWrapperStyle,components:[{type:"Container",style:n.props.config.plusButtonStyle,hover:n.props.config.plusButtonHoverStyle,components:[{type:"Text",text:"+"}],events:a}]}),n}return C()(t,e),d()(t,[{key:"render",value:function(){this.props.config.components=this.props.config.components||[],this.props.config.components[this.props.config.components.length-1].hide=this.state.hideAddButton;var e=I.a.createComponent("Container");return a.createElement(e,{config:this.props.config})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.config.attributes){var t=l.findDOMNode(this);if(t)for(var n in this.props.config.attributes)t.setAttribute(n,this.props.config.attributes[n])}P.a.on(rt.Ub,(function(t){for(var n=0,o=1;o<=e.props.config.maxNumOfFeeds;o++)("string"==typeof t["".concat(o)]&&"true"===t["".concat(o)]||"string"!=typeof t["".concat(o)]&&t["".concat(o)])&&n++;1==n&&e.setState({hideAddButton:!0})})),P.a.on(rt.Yb,(function(){e.setState({hideAddButton:!1})}))}}]),t}(a.Component);function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Fn}),"RssFeedsContainer");var Hn=function(e){function t(e){var n;h()(this,t),(n=y()(this,b()(t).call(this,e))).state={style:{}},n.countTo=n.props.config.countTo||"",n.countTo=Date.parse(n.countTo),n.state.hide=isNaN(n.countTo),n.updateInterval=n.props.config.updateInterval||1e3,n.parentStyle=n.props.config.parentStyle||{};var o={display:"none"};return["days","hours","minutes","seconds"].forEach((function(e){n.props.config[e]=n.props.config[e]||{hide:!0},n[e]={},n[e].style=n.props.config[e].hide?o:n.props.config[e].style?n.props.config[e].style:{},n[e].beforeText=n.props.config[e].beforeText||"",n[e].beforeStyle=n.props.config[e].hide?o:n.props.config[e].beforeStyle?n.props.config[e].beforeStyle:{},n[e].afterText=n.props.config[e].afterText,n[e].afterStyle=n.props.config[e].hide?o:n.props.config[e].afterStyle?n.props.config[e].afterStyle:{},n[e].containerStyle=n.props.config[e].hide?o:n.props.config[e].containerStyle?n.props.config[e].containerStyle:{}})),n.handleClick=n.handleClick.bind(k()(n)),n.tickCounter=0,n.tick(),n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"render",value:function(){return Object(st.U)(this.props.config),this.props.config.hide||this.state.hide?null:a.createElement("div",{style:this.parentStyle,onClick:this.handleClick},a.createElement("div",{style:this.days.containerStyle},a.createElement("div",{style:this.days.beforeStyle},this.days.beforeText),a.createElement("div",{style:this.days.style},this.state.days),a.createElement("div",{style:this.days.afterStyle},this.days.afterText)),a.createElement("div",{style:this.hours.containerStyle},a.createElement("div",{style:this.hours.beforeStyle},this.hours.beforeText),a.createElement("div",{style:this.hours.style},this.state.hours),a.createElement("div",{style:this.hours.afterStyle},this.hours.afterText)),a.createElement("div",{style:this.minutes.containerStyle},a.createElement("div",{style:this.minutes.beforeStyle},this.minutes.beforeText),a.createElement("div",{style:this.minutes.style},this.state.minutes),a.createElement("div",{style:this.minutes.afterStyle},this.minutes.afterText)),a.createElement("div",{style:this.seconds.containerStyle},a.createElement("div",{style:this.seconds.beforeStyle},this.seconds.beforeText),a.createElement("div",{style:this.seconds.style},this.state.seconds),a.createElement("div",{style:this.seconds.afterStyle},this.seconds.afterText)))}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){e.stopPropagation();var t=Bn({},this.props.config.events.onClick);P.a.trigger(this.props.config.events.onClick.name,[t,Bn({},this.props.config)])}this.props.onClick&&this.props.onClick(e)}},{key:"tick",value:function(){var e=this,t=setInterval((function(){if(e.updateCount()){if(clearInterval(t),!e.props.config.events)return;if(e.tickCounter>2&&e.props.config.events.onDone){var n=Bn({},e.props.config.events.onDone);P.a.trigger(e.props.config.events.onDone.name,[n,Bn({},e.props.config)])}if(e.tickCounter<=2&&e.props.config.events.onZeroStart){var o=Bn({},e.props.config.events.onZeroStart);P.a.trigger(e.props.config.events.onZeroStart.name,[o,Bn({},e.props.config)])}}}),this.updateInterval)}},{key:"updateCount",value:function(){var e,t,n,o,i=Date.parse(new Date),r=this.countTo-i;return e=t=n=o="00",r>0&&(e=(e=Math.floor(r/864e5))<10?"00".concat(e).slice(-2):e,t="00".concat(Math.floor(r/36e5%24)).slice(-2),n="00".concat(Math.floor(r/1e3/60%60)).slice(-2),o="00".concat(Math.floor(r/1e3%60)).slice(-2)),this.tickCounter++,"00"===this.state.days&&"00"===this.state.hours&&"00"===this.state.minutes&&"00"===this.state.seconds||(this.setState({days:e,hours:t,minutes:n,seconds:o}),!1)}}]),t}(a.Component);function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Hn}),"Countdown");var Wn=n(36).Block,Gn=function(e){function t(e){var n;h()(this,t),(n=y()(this,b()(t).call(this,e))).defaultMode=e.config.defaultMode||"place",n.state={style:{},mode:n.defaultMode,params:{},shouldUpdateIframes:!1},n.supportedIframes={},n.currentParams={},n.currentParamsAll={};var o=e.config.modes||{};for(var i in n.modeConfig={},o)o.hasOwnProperty(i)&&!o[i].hide&&(n.supportedIframes[i]=!0,n.modeConfig[i]=o[i]);n.currentMode=n.defaultMode,n.allowedParams=Kn({place:["q"],directions:["origin","destination"],search:["q"],view:["center","zoom"]},n.buildConfigObjectByKey("allowedParams")),n.fallbaclModeParam={place:{q:" "},directions:{origin:" ",destination:" "},search:{q:" "},view:{center:"0,0",q:" "}},n.defaultModeParams=Kn({},n.fallbaclModeParam,{},n.buildConfigObjectByKey("defaultModeParams")),n.fallbaclModeParam=Kn({},n.defaultModeParams,{},n.fallbaclModeParam),n.defaultParams=e.config.defaultParams||{},n.iframeSettings=n.buildConfigObjectByKey("iframeSettings"),n.iframeComps=n.buildConfigObjectByKey("iframe"),n.iframeParentStyle=n.buildConfigObjectByKey("iframeParentStyle"),n.geoData=Kn({city:" ",country_name:" ",state:" ",latitude:0,longitude:0},e.config.defaultGeo||{}),n.pref=ct.a.get(rt.Mb);var r=n.pref.get(rt.lb);for(var s in n.geoData=Kn({},n.geoData,{},Object(st.H)(r)?r:{}),n.apiKey=e.config.apiKey||"AIzaSyD8-LmPff_7iYmE8syMYQJY-xZlF9a-oWY",n.baseSrc=e.config.baseSrc||"https://www.google.com/maps/embed/v1/{{mode}}?key={{apiKey}}{{params}}",n.updateIframeEvent=n.props.config.updateIframeEvent||"MAPS_WIDGET_IFRAME_UPDATE",n.iframes={},n.supportedIframes){var a={behaviours:[{on:n.updateIframeEvent,do:"SET_CONFIG",c:{arg:"mode",val:s,op:"="}}]};n.iframes[s]=n.createIframe(n.buildIframeObject(s,null,a),s)}return n.handleClick=n.handleClick.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"buildConfigObjectByKey",value:function(e){var t={};for(var n in this.supportedIframes)t[n]=this.modeConfig[n][e];return t}},{key:"buildIframeObject",value:function(e,t,n){var o=this.buildMapSrc(e,t);if(this.iframeComps[e]){var i=this.iframeComps[e],r=Kn({},i.iframeSettings,{src:o});return Kn({},i,{iframeSettings:r})}return Kn({iframeSettings:Kn({},this.iframeSettings[e],{src:o})},n||{})}},{key:"buildMapSrc",value:function(e,t){var n=e||this.defaultMode,o=this.baseSrc.replace("{{mode}}",n).replace("{{apiKey}}",this.apiKey),i="",r=Kn({},this.defaultModeParams[n]||{},{},this.defaultParams,{},t||{});for(var s in r=this.getParams(e,r))i+="&".concat(s,"=").concat(r[s]);return o=o.replace("{{params}}",i),encodeURI(o)}},{key:"createIframe",value:function(e,t){var n=I.a.createComponent("Iframe");return a.createElement(n,{key:t,config:e,parentState:this.state[t],hover:this.state.hovered})}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"buildModesButtons",value:function(){var e=null,t={type:"Container",style:this.props.config.modeButtonsContainerStyle||{},components:[]};for(var n in this.supportedIframes){var o=this.modeConfig[n].modeButton;o.style=n===this.currentMode?o.selectedStyle:o.notSelectedStyle,t.components.push(o)}return t.components.length?(t={container:t},e=this.createChildrenComponents(t)):e}},{key:"buildModesInputs",value:function(e){var t=e||this.currentMode,n=this.buildConfigObjectByKey("paramsBoxes");return Object(st.H)(n)&&Object(st.H)(n[t])?this.createChildrenComponents(n[t]):null}},{key:"createChildrenComponents",value:function(e){var t,n=this;return e&&(t=Object.keys(e).map((function(t){if(Object(st.H)(e[t])&&e[t].type){var o=I.a.createComponent(e[t].type);return a.createElement(o,{key:t,config:e[t],hover:n.state.hovered})}}))),t}},{key:"getCurrentIframe",value:function(){var e={};for(var t in this.iframes)e[t]={display:"none"};e[this.currentMode]=Kn({},this.iframeParentStyle[this.currentMode]);var n=this;return Object.keys(this.iframes).map((function(t){return a.createElement("div",{key:t,style:e[t]},n.iframes[t])}))}},{key:"getParams",value:function(e,t){var n=this.getRelevantParams(e,Kn({},this.currentParams[e],{},this.state.params,{},t));for(var o in n)n[o]=n[o]?n[o].trim():n[o];n=this.fillMandatoryParams(e,n);var i=this,r=JSON.stringify(n);return Object.keys(this.geoData).map((function(e){var t=new RegExp("{{".concat(e,"}}"),"g");r=r.replace(t,i.geoData[e])})),n=JSON.parse(r),this.currentParams[e]=n,Object.assign(this.currentParamsAll,n),Object.assign(this.state.params,n),n}},{key:"getRelevantParams",value:function(e,t){var n=Kn({},t);if(this.allowedParams[e])for(var o in t)this.allowedParams[e].includes(o)||delete n[o];return n}},{key:"fillMandatoryParams",value:function(e,t){if(!e)return t;var n=Kn({},t||{});for(var o in this.defaultModeParams[e])n[o]=n[o]||this.fallbaclModeParam[e][o];return n}},{key:"updateIframes",value:function(e){for(var t in e=e||{},this.iframes){var n=this.currentParams[t],o=this.getParams(t,Kn({},this.state.params,{},e.params));Object(st.b)(n,o)||P.a.trigger(this.updateIframeEvent,[{mode:t,config:this.buildIframeObject(t,o)}])}}},{key:"componentWillUpdate",value:function(e){}},{key:"render",value:function(){var e;return Object(st.U)(this.props.config),this.currentMode=this.state.mode,e=this.props.config.hide||this.state.hide?null:a.createElement(Wn,{onClick:this.handleClick,style:this.props.config.style},this.buildModesButtons(),this.buildModesInputs(),this.getCurrentIframe()),this.props.config.animateClass&&(e=a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},e)),e}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){e.stopPropagation();var t=Kn({},this.props.config.events.onClick);P.a.trigger(this.props.config.events.onClick.name,[t,Kn({},this.props.config)])}this.props.onClick&&this.props.onClick(e)}}]),t}(a.Component);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return Gn}),"Maps");var zn=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).conditionalConfigMerge(),n.originalConfig=JSON.parse(JSON.stringify(e.config)),n.replaceConfigFunc(),n.state={style:{}},n.fallbackImage="content/image/transparent_img.png",n.dataAuto=n.getDataAutoAttr(e),n.handleClick=n.handleClick.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"conditionalConfigMerge",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var n=function(){var t=Object(st.H)(e.props.config.conditionalConfigMerge)?[e.props.config.conditionalConfigMerge]:e.props.config.conditionalConfigMerge;for(var n in t){var o=t[n],i=o.c?new pt.a(o.c):null;Object(st.H)(o.config)&&(null===i||i&&i.check(e.props.config,o,e.props.config))&&T.a.withOptions(e.props.config,[o.config],o.options||{arrayBehaviour:"replace"})}};t&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||n()}catch(e){}}},{key:"replaceConfigFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(Object(st.A)(this.originalConfig.placeHoldersFunctions)){var n=Object(st.A)(e)?[].concat(u()(this.originalConfig.placeHoldersFunctions),u()(e)):this.originalConfig.placeHoldersFunctions,o=Object(st.T)(this.originalConfig,n,{},$n({},this.originalConfig,{},t));Object.assign(this.props.config,o)}}catch(e){}}},{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&P.a.trigger(this.props.config.events.onMount.name,[$n({},this.props.config.events.onMount,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"shouldHide",value:function(){var e=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(st.jb)(e)}},{key:"render",value:function(){if(this.conditionalConfigMerge(!0),Object(st.U)(this.props.config),this.shouldHide())return null;var e=$n({},this.props.config.style||{},{},this.state.style||{},{},this.props.config.hover&&Object.keys(this.props.config.hover).length&&this.state.hovered?this.props.config.hover:{}),t=this.props.config.dynamic?this.getCurrentImage():this.props.config.image_location,n=$n({},this.props.config.parentStyle||{},{},this.state.parentStyle||{});if(this.props.config.options){var o=ct.a.get(rt.Mb).get(this.props.config.key);t=this.props.config.options[o].image_location}if(!t)return null;var i=a.createElement("img",{"data-auto":this.dataAuto,onClick:this.handleClick,style:e,src:t}),r=a.createElement("div",{style:n},i),s=this.state.animateClass||this.props.config.animateClass;return s&&(r=a.createElement("div",{style:n},a.createElement(j.a,{transitionName:s,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},i))),r}},{key:"getCurrentImage",value:function(){var e=!1,t=localStorage[this.props.config.image_key]||"",n=this.props.config.ignoreImagePath||["http","data:"];return!(e=this.state.image&&this.state.image.hasOwnProperty("src")?this.state.image.src:this.props.config.image_path&&""!==t&&!Object(st.gb)(t,n)?this.props.config.image_path+t:t)&&this.props.config.fallback_image&&(e=this.props.config.fallback_image),Object(st.x)(e,!1)}},{key:"handleClick",value:function(e){if(this.props.config.events&&this.props.config.events.onClick){e.stopPropagation();var t=$n({},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});P.a.trigger(this.props.config.events.onClick.name,[t,this.props.config])}this.props.onClick&&this.props.onClick(e)}}]),t}(bt);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return zn}),"Image");var qn=n(36),Xn=qn.InlineBlock,Zn=qn.Block,Qn=function(e){function t(e){var n;return h()(this,t),"searchEngines"==(n=y()(this,b()(t).call(this,e))).props.config.menuType?(n.search=ct.a.get(rt.dc),n.state={options:n.searchEngines2Options(),selectedOption:n.search.getTempOrCurrentSearchEngineIndex(),isOpen:!1,menuStyle:{},style:{}}):n.state={isOpen:!1,menuStyle:{},style:{}},n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.config.attributes){var e=l.findDOMNode(this);if(e)for(var t in this.props.config.attributes)e.setAttribute(t,this.props.config.attributes[t])}vt.bind(this)(this.props.config.behaviours)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,yt.bind(this)(this.props.config.behaviours)}},{key:"handleMenuButtonClick",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"renderMenu",value:function(){var e={};e="searchEngines"==this.props.config.menuType?this.getSearchEnginesMenu(this.state.options):this.props.config.components;var t=Object.keys(e).map((function(t,n){var o=e[t],i=I.a.createComponent(o.type);return a.createElement(Zn,{key:t},a.createElement(i,{config:o}))}));return a.createElement(Zn,{style:Yn({},this.props.config.menuStyle,{},this.state.menuStyle),key:"menu"},t,a.createElement("engines",null))}},{key:"render",value:function(){var e=this.handleMenuButtonClick.bind(this),t=this.state.isOpen?this.renderMenu():null;return this.props.config.animateClass&&(t=a.createElement(j.a,{transitionName:this.props.config.animateClass,transitionEnterTimeout:0,transitionLeaveTimeout:0},t)),a.createElement(Xn,null,a.createElement(At,{onClick:e,config:this.props.config}),t)}},{key:"getSearchEnginesMenu",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].value]={},t[e[n].value].type="Input",t[e[n].value].inputType="button",t[e[n].value].style=Yn({},this.props.config.menuItemStyle,{},e[n].style),t[e[n].value].style.backgroundImage||(t[e[n].value].text=this.capitalizeFirstLetter(e[n].value)),this.props.config.displayLogos||(t[e[n].value].text=this.capitalizeFirstLetter(e[n].value),t[e[n].value].style.backgroundImage&&delete t[e[n].value].style.backgroundImage),t[e[n].value].events={},t[e[n].value].events.onClick={},t[e[n].value].events.onClick.name=De,t[e[n].value].events.onClick.engineId=e[n].value;return t}},{key:"searchEngines2Options",value:function(){for(var e=[],t=this.search.getEngines(),n=0;n<Object.keys(t).length;n++)e.push({label:t[n].logo?"":t[n].shortName,value:t[n].id,style:t[n].logo?{backgroundImage:"url(content/images/".concat(t[n].logo,")")}:{}});return e}},{key:"capitalizeFirstLetter",value:function(e){return e.substring(0,1).toUpperCase()+e.slice(1)}}]),t}(a.Component);function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}I.a.add((function(){return Qn}),"Menu");var to=function(e){function t(e){var n;h()(this,t),e.config.components=e.config.components.sort((function(e,t){var n=e.tabSettings&&e.tabSettings.order||0;return(t.tabSettings&&t.tabSettings.order||0)-n}));var o=e.config.components.map((function(e){return e.tabSettings?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{tabSettings:{title:e.id}})}));return e.config.components=[{type:"Container",style:e.config.tabsWrapperStyle,components:(n=[]).concat.apply(n,u()(o.map((function(t,n){return[{type:"Text",behaviours:[{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:e.config.selectedTabStyle},c:{arg:"index",op:"=",val:n}},{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:e.config.tabStyle},c:{arg:"index",op:"!=",val:n}}],text:t.tabSettings.title,style:t.tabSettings.default?e.config.selectedTabStyle:e.config.tabStyle,hover:e.config.tabStyleHover,events:{onClick:{name:"".concat(e.config.id,"TAB_SELECTED"),index:n}}},{type:"Container",style:e.config.tabSeparatorStyle}]})))).slice(0,-1)},{type:"Container",style:{flex:1},components:o.map((function(e,t){return{type:"Container",behaviours:[{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:{display:"unset"}},c:{arg:"index",op:"=",val:t}},{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:{display:"none"}},c:{arg:"index",op:"!=",val:t}}],style:{display:e.tabSettings.default?"unset":"none"},components:[e]}}))}],y()(this,b()(t).call(this,e))}return C()(t,e),t}(Ct);function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return to}),"TabsManager");var io=function(e){function t(e){var n;h()(this,t),n=y()(this,b()(t).call(this,e));var o=parseInt(n.props.config.style.width)||0,i=o+36,r=-1*o;return n.wrapperStyle={position:"relative",top:"30px",width:"".concat(i,"px"),height:"100%",transition:"left .4s ease"},n.widgetContainerStyle={width:"".concat(o,"px"),height:"100%",zIndex:"10",transition:"1s",flexFlow:"row nowrap",userSelect:"none"},n.hideWidgetContainerStyle={left:"".concat(r,"px")},n.showWidgetContainer={left:"0px"},n.buttonStyle={position:"absolute",background:"url(/../content/images/converter/tab-arrow-FF691E.svg) no-repeat",width:"".concat(36,"px"),height:"36px",right:"0",top:"0",zIndex:"11",cursor:"pointer",transition:"transform .4s ease"},n.hideButtonStyle={transform:"rotate(180deg)"},n.showButtonStyle={transform:"rotate(0deg)"},n.state={toggleSideMenu:!1},n.toggleWidgetContainer={false:n.hideWidgetContainerStyle,true:n.showWidgetContainer},n.finalButtonStyle={false:n.hideButtonStyle,true:n.showButtonStyle},n.buttonTrack={false:"close",true:"open"},n}return C()(t,e),d()(t,[{key:"handleClick",value:function(){this.setState({toggleSideMenu:!this.state.toggleSideMenu}),this.wrapperStyle=oo({},this.wrapperStyle,{},this.toggleWidgetContainer[this.state.toggleSideMenu]),this.buttonStyle=oo({},this.buttonStyle,{},this.finalButtonStyle[this.state.toggleSideMenu]);var e=this.buttonTrack[this.state.toggleSideMenu];ct.a.get(rt.Cc).trackStatusEvent("side_menu_widget","button_click",e,{},null,null,{})}},{key:"mergeChildrenProps",value:function(){var e=this.props.config.childrenProps;if(e&&Object(st.H)(e)){var t=e.props||{},n=("deepAssign"===e.method?T.a:Object.assign,this.props.config.components);if(Array.isArray(n))for(var o in n)n.hasOwnProperty(o)&&(n[o]=oo({},t,{},n[o]))}}},{key:"render",value:function(){var e=this.createComponents(),t=a.createElement("div",{key:this.id,style:this.widgetContainerStyle},e),n=a.createElement("img",{onClick:this.handleClick.bind(this),style:this.buttonStyle});return a.createElement("div",{style:this.wrapperStyle},n,t)}},{key:"createComponents",value:function(){var e,t=this;if(this.props.config.components){this.mergeChildrenProps();var n=this.props.config.components,o=this.forceReplace||this.props.forceReplace;e=Object.keys(this.props.config.components).map((function(e){if(Object(st.H)(n[e])&&n[e].type){if(n[e].hasOwnProperty("renderForEach"))return t.createComponentForEach(n[e],e);var i=I.a.createComponent(n[e].type);return a.createElement(i,{key:e,config:n[e],forceReplace:o})}}))}return e}}]),t}(a.Component);I.a.add((function(){return io}),"SideMenu");var ro=n(99);function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var co=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).tracking_number="",n.state={searchboxText:"",gotResponse:!1},n.handleSearchboxChange=n.handleSearchboxChange.bind(k()(n)),n.handleClick=n.handleClick.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"handleClick",value:function(){var e=document.getElementById("tracking_number_search_box").value;this.tracking_number=e;this.getResponseForPackageTrackingNumber(e)}},{key:"handleSearchboxChange",value:function(e){this.setState({searchboxText:e.target.value})}},{key:"mergeChildrenProps",value:function(){var e=this.props.config.childrenProps;if(e&&Object(st.H)(e)){var t=e.props||{},n=("deepAssign"===e.method?T.a:Object.assign,this.props.config.components);if(Array.isArray(n))for(var o in n)n.hasOwnProperty(o)&&(n[o]=ao({},t,{},n[o]))}}},{key:"createComponents",value:function(){var e,t=this;if(this.props.config.components){this.mergeChildrenProps();var n=this.props.config.components,o=this.forceReplace||this.props.forceReplace;e=Object.keys(this.props.config.components).map((function(e){if(Object(st.H)(n[e])&&n[e].type){if(n[e].hasOwnProperty("renderForEach"))return t.createComponentForEach(n[e],e);var i=I.a.createComponent(n[e].type);return a.createElement(i,{key:e,config:n[e],forceReplace:o})}}))}return e}},{key:"render",value:function(){this.createComponents();var e=a.createElement("div",{className:"headerContainer"},a.createElement("span",{className:"headerText"},"Package Tracker")),t=a.createElement("div",{className:"packageTrackerLogoImageConatiner"},a.createElement("img",{src:"https://d2gbn9pgmbetx7.cloudfront.net/package-tracker/package-tracker-logo.svg",className:"packageTrackerLogoImage"})),n=a.createElement("div",{className:"titleAndCouriersContainer"},a.createElement("span",{className:"titleNextToCarrier"},"Shipping Service"),a.createElement("a",{href:"https://www.fedex.com/en-us/tracking.html",target:"_blank",rel:"noopener noreferrer"},a.createElement("img",{src:"https://d2gbn9pgmbetx7.cloudfront.net/package-tracker/FEDEX.png",className:"carrierLogoImage"})),a.createElement("a",{href:"https://www.ups.com/il/en/services/tracking.page?",target:"_blank",rel:"noopener noreferrer"},a.createElement("img",{src:"https://d2gbn9pgmbetx7.cloudfront.net/package-tracker/UPS.png",className:"carrierLogoImage"})),a.createElement("a",{href:"https://www.dhl.co.il/en/express/tracking.html",target:"_blank",rel:"noopener noreferrer"},a.createElement("img",{src:"https://d2gbn9pgmbetx7.cloudfront.net/package-tracker/DHL.png",className:"carrierLogoImage"}))),o=a.createElement("div",{className:"searchboxContainer"},a.createElement("input",{id:"tracking_number_search_box",type:"text",placeholder:"Enter tracking number",value:this.state.searchboxText,className:"searchbox",onChange:this.handleSearchboxChange})),i=a.createElement("div",{className:"trackButtonContainer"},a.createElement("button",{as:"input",type:"submit",className:"trackButton",onClick:this.handleClick},"Track")),r=this.tracking_number&&a.createElement("div",{className:"trackingNumberAfterSearchContainer"},a.createElement("span",{className:"trackingNumberAfterSearchText"},this.tracking_number)),s=a.createElement("div",{id:"tracking_statuses_container"},this.renderStatus());return a.createElement("div",{className:"packageTrackerContainer"},e,t,n,o,i,r,a.createElement("div",{className:"timeline"},s))}},{key:"manipulateResponseData",value:function(e){for(var t=JSON.parse(e),n=[],o=0;o<t.data.destination_info.trackinfo.length;o++){var i=t.data.destination_info.trackinfo[o],r=i.Date.split(" "),s={date:r[0],time:r[1],statusDescription:i.StatusDescription,details:i.Details};n.push(a.createElement("div",{className:"container right"},a.createElement("div",{className:"content",key:s.date},a.createElement("div",{className:"content_right"},a.createElement("div",{className:"header bold"},s.time),a.createElement("div",null,s.date)),a.createElement("div",{className:"content_right"},a.createElement("div",{className:"header bold"},s.statusDescription),a.createElement("div",null,s.details),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null))))),this.setState({appendedStatuses:n})}for(var c=0;c<t.data.origin_info.trackinfo.length;c++){var l=t.data.origin_info.trackinfo[c],p=l.Date.split(" "),u={date:p[0],time:p[1],statusDescription:l.StatusDescription,details:l.Details};n.push(a.createElement("div",{className:"container right"},a.createElement("div",{className:"content",key:u.date},a.createElement("div",{className:"content_right"},a.createElement("div",{className:"header bold"},u.time),a.createElement("div",null,u.date)),a.createElement("div",{className:"content_right"},a.createElement("div",{className:"header bold"},u.statusDescription),a.createElement("div",null,u.details),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null))))),this.setState({appendedStatuses:n})}}},{key:"renderStatus",value:function(){return this.state.appendedStatuses||null}},{key:"getResponseForPackageTrackingNumber",value:function(e){var t=this,n={tracking_number:e},o="http://api.trackingmore.com/v2/carriers/detect";return Object(ro.a)(o,n,"POST",(function(i){var r=JSON.parse(i).data[0].code;n={tracking_number:e,carrier_code:r},o="https://api.trackingmore.com/v2/trackings/post",Object(ro.a)(o,n,"POST",(function(i){o="https://api.trackingmore.com/v2/trackings/".concat(r,"/").concat(e),Object(ro.a)(o,n,"GET",(function(e){t.manipulateResponseData(e)}))}))})),null}}]),t}(a.Component);function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.a.add((function(){return co}),"PackageTracker");var uo=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).wrapperStyle={margin:"0px 0px 0px 25px",display:"flex",flexDirection:"row",alignItems:"center",width:"135px",height:"30px",backgroundColor:"#fefefe",justifyContent:"space-between",fontFamily:"sans-serif",borderRadius:"3px",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.07)"},n.linkStyle={float:"none",padding:"8px 16px 6px 6px",textDecoration:"none",display:"block",textAlign:"left",color:"#4386fc",letterSpacing:"-0.2px",fontFamily:"sans-serif"},n.linkLogoStyle={height:"14px",padding:"0 6px 0 0"},n.linkContainerStyle={top:"90%",position:"absolute",maxWidth:"400px",overflow:"hidden",boxShadow:"0 1px 1px 0 rgba(0, 0, 0, 0.26)",minWidth:"135px",backgroundColor:"#fefefe"},n.buttonContainerStyle={verticalAlign:"middle",width:"100%",padding:"0px 5px 0px 5px"},n.buttonLogoStyle={width:"12px",height:"6px",float:"right",textAlign:"center",verticalAlign:"middle",margin:"5px"},n.buttonTextStyle={color:"#4386fc",fontSize:"13px",letterSpacing:"-0.2px",marginLeft:"7px",textAlign:"center",verticalAlign:"middle"},n.hoverLinkStyle={backgroundColor:"#f2f2f2"},n.wrapperStyle=n.getStyle(n.wrapperStyle,"backgroundColor","buttonBackgroundColor"),n.wrapperStyle=n.getStyle(n.wrapperStyle,"height","buttonHeight"),n.linkContainerStyle=n.getStyle(n.linkContainerStyle,"top","dropdownTop"),n.linkContainerStyle=n.getStyle(n.linkContainerStyle,"backgroundColor","linkBackgroundColor"),n.state={showComponent:!1,hoveredLinkIndex:void 0},n.eventType="toolbar_button_click",n.buttonTrack={false:"open",true:"close"},n}return C()(t,e),d()(t,[{key:"getStyle",value:function(e,t,n){var o=this.props.config.style[n]||!1;return o?po({},e,i()({},t,o)):e}},{key:"handleClick",value:function(){this.setState({showComponent:!this.state.showComponent});var e=this.buttonTrack[this.state.showComponent];ct.a.get(rt.Cc).trackStatusEvent(this.eventType,"DropDown",e,null,null,null,{})}},{key:"handleLinkClick",value:function(e){ct.a.get(rt.Cc).trackStatusEvent(this.eventType,"toolbar_menu_link_click",e,null,null,null,{})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutsideComponent.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutsideComponent.bind(this))}},{key:"handleClickOutsideComponent",value:function(e){this.isClickOutsideComponent(e)&&this.hideLinks()}},{key:"isClickOutsideComponent",value:function(e){return!l.findDOMNode(this).contains(e.target||e[0]&&e[0].target)}},{key:"hideLinks",value:function(){this.setState({showComponent:!1})}},{key:"markLinkAsHovered",value:function(e){this.setState({hoveredLinkIndex:e})}},{key:"markLinkAsUnHovered",value:function(){this.setState({hoveredLinkIndex:void 0})}},{key:"createLinks",value:function(e){var t=this,n=[];if(!this.props.config.links||!this.state.showComponent)return n;for(var o=this.props.config.links,i=o.length,r=function(i){var r=o[i].linkUrl,s=o[i].linkLogo,c=o[i].linkText,l=t.linkStyle;e===i&&(l=po({},t.linkStyle,{},t.hoverLinkStyle));var p=a.createElement("a",{onMouseEnter:function(){t.markLinkAsHovered(i)},onMouseLeave:function(){t.markLinkAsUnHovered()},onClick:function(){t.handleLinkClick(c)},key:i,target:"_blank",rel:"noopener noreferrer",href:r,style:l},a.createElement("img",{src:s,style:t.linkLogoStyle}),c);n.push(p)},s=0;s<i;s++)r(s);return n}},{key:"render",value:function(){var e=this.createLinks(this.state.hoveredLinkIndex);return a.createElement("div",{style:this.wrapperStyle},a.createElement("div",{onClick:this.handleClick.bind(this),style:this.buttonContainerStyle},a.createElement("span",{style:this.buttonTextStyle},this.props.config.buttonText),a.createElement("img",{src:this.props.config.buttonLogo,style:this.buttonLogoStyle})),a.createElement("div",{style:this.linkContainerStyle},e))}}]),t}(a.Component);I.a.add((function(){return uo}),"DropdownRedirectLinks");var fo=n(69),ho=n.n(fo),go=n(186),mo=n.n(go),yo=n(70);function vo(){var e=ho()(["\n\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  height: 27px;\n  padding-left: 16px;\n  img.avatar {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    background-size: cover;\n    background-position: top center;\n    border-radius: 50%;\n    margin-right: 5px;\n  }\n\n   span {\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n"]);return vo=function(){return e},e}var bo=yo.a.div(vo()),Oo=function(e){var t=e.titleTextColor?{color:e.titleTextColor}:{};return c.a.createElement("div",{onClick:e.onClick},c.a.createElement(bo,null,e.iconUri&&c.a.createElement("img",{className:"avatar",src:e.iconUri}),c.a.createElement("span",{style:t},e.title)))};function ko(){var e=ho()(["\n        display: inline-block;\n        position:relative;\n        width: 149px;\n        &:hover{\n          cursor: pointer;\n        }\n\n        .options{\n          box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);\n          border-radius: 14px;\n          background-color: #fefefe;\n            \n          &-when-menu-open{\n            box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);\n          width:100%;\n\n          }\n        }\n\n        .selected-option{\n          border-radius: 14px;\n          border: solid 1px #e8e8e8;\n          &-when-menu-open{\n              border-radius:14px 14px 0 0 ;\n              border: solid 1px #e8e8e8;\n              border-bottom:none;\n          }\n        }\n\n        .other-options{\n            max-height:150px;\n            overflow:auto;\n            background-color: #fefefe;\n            position: absolute;\n            left:0;\n            width:100%;\n            border:solid 1px #e8e8e8;\n            border-radius:0 0 14px 14px;\n            box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);\n            & > * {\n                &:not(:last-child){\n                    border-bottom:solid 1px #e8e8e8;\n            }\n\n            &:hover{\n                background-color: #f3f4f5;\n            }\n          }\n        }\n\n        svg.icon-menu {\n            position: absolute;\n            right: 13px;\n            top: 11px;\n            fill:  #e3e3e3;\n            width: 10px;\n            z-index: 1;\n        }\n\n      "]);return ko=function(){return e},e}var Eo=function(e){function t(e){var n;return h()(this,t),(n=y()(this,b()(t).call(this,e))).state={isOpen:!1,options:[]},n.selectDOMElementRef=null,n.setRef=function(e){n.selectDOMElementRef=e},n.mainCss=n.getMainCss(),n.optionsClassNameMap={true:"options-when-menu-open",false:"options"},n.selectedOptionClassNameMap={true:"selected-option-when-menu-open",false:"selected-option"},n.toggleIsOpen=n.toggleIsOpen.bind(k()(n)),n.handleClickOutside=n.handleClickOutside.bind(k()(n)),n.handleSelectedClick=n.handleSelectedClick.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!1)}},{key:"toggleIsOpen",value:function(){var e=!this.state.isOpen;this.setState({isOpen:e})}},{key:"handleClickOutside",value:function(e){e.stopPropagation(),this.selectDOMElementRef.contains(e.target)||this.setState({isOpen:!1})}},{key:"renderMenuIcon",value:function(e){return e?c.a.createElement("svg",{className:"icon-menu",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 8"},c.a.createElement("path",{fillRule:"evenodd",d:"M5.5 8L0 0h11z"})):null}},{key:"handleSelectedClick",value:function(e){e.stopPropagation(),this.toggleIsOpen()}},{key:"render",value:function(){var e=Object(st.A)(this.props.children),t=e?this.props.children[0]:this.props.children,n=c.a.cloneElement(t,{onClick:this.handleSelectedClick}),o=this.mainCss,i=this.state.isOpen;return c.a.createElement("div",{ref:this.setRef,onClick:this.toggleIsOpen},c.a.createElement(o,null,c.a.createElement("div",{className:this.selectedOptionClassNameMap[i]},this.renderMenuIcon(e),c.a.createElement("div",{className:this.optionsClassNameMap[i]},n),e&&this.state.isOpen&&c.a.createElement("div",{className:"other-options"},this.props.children.slice(1)))))}},{key:"getMainCss",value:function(){return yo.a.div(ko())}}]),t}(c.a.Component);function Co(){var e=ho()(["\n        @import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&display=swap');\n        font-family: 'Open Sans', sans-serif;\n        color: #a8a8a8;\n        width: 100%;\n        /* Layout */\n        form {\n          width: 296px;\n          margin: 0 auto;\n          .row {\n            &_1 {\n              margin: 16px 0;\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n              min-height: 29px;\n            }\n            &_2 {\n              display: flex;\n              flex-direction: column;\n            }\n            &_3 {\n              margin: 10px 0;\n              margin-bottom: 28px;\n            }\n          }\n\n          .loading{\n            height:27px;\n          }\n\n          .row_2 span {\n            margin-bottom: 7px;\n            font-size: 13px;\n            font-weight: 300;\n          }\n          .row_1  > span {\n            font-size: 16px;\n            font-weight: 300;\n          }\n\n          .submit-button {\n            font-size: 13px;\n            width: 102px;\n            height: 29px;\n            background-color: ",";\n            border-radius: 14.5px;\n            color: ",";\n            border: none;\n            font-weight: 300;\n            font-style: normal;\n            font-stretch: normal;\n            line-height: normal;\n            letter-spacing: -0.22px;\n            &:focus {\n              outline: none;\n            }\n            &:hover {\n              cursor: pointer;\n            }\n            box-shadow:",";\n          }\n\n          .input-container {\n            display: flex;\n            justify-content: space-between;\n            padding: 5px 9px;\n\n            border-radius: 12px;\n            border: solid 1px #dedede;\n            input {\n              width: 100%;\n              border: none;\n              background-color: transparent;\n              &:focus {\n                outline: none;\n              }\n              ::placeholder {\n                color: #e3e3e3;\n              }\n            }\n            svg.icon-search {\n            fill: #dedede;\n            width: 13px;\n            }\n          }\n\n          img.header-image {\n            width: 20px;\n          }\n\n        }\n\n      "]);return Co=function(){return e},e}var So=function(e){function t(e){var n;h()(this,t),(n=y()(this,b()(t).call(this,e))).config=n.props.config,1==n.config.hide&&(n.render=function(){return null}),n.storageKey="".concat(n.config.id||"QuickSearch","__userSelectedOption"),n.state={options:Object(st.d)(n.config.elements.options),inputTerm:""};return function(){var e=ct.a.get(rt.Mb),t=e.get(n.storageKey),o=n.state.options.some((function(e){return e.id===t}));if(o||e.set(n.storageKey,n.state.options[0].id),t&&o){var i=n.moveItemToStart(n.state.options,(function(e){return e.id===t}));n.state.options=i}}(),n._css=n.getMainCss(),n.onFormSubmit=n.onFormSubmit.bind(k()(n)),n.handleUserSelection=n.handleUserSelection.bind(k()(n)),n.transformOptionToJsx=n.transformOptionToJsx.bind(k()(n)),n.handleInputChange=n.handleInputChange.bind(k()(n)),n}return C()(t,e),d()(t,[{key:"handleUserSelection",value:function(e){var t=e.id;ct.a.get(rt.Mb).set(this.storageKey,t);var n=this.moveItemToStart(this.state.options,(function(e){return e.id===t}));this.setState({options:n})}},{key:"moveItemToStart",value:function(e,t){var n=e,o=n.findIndex(t),i=n.splice(o,1);return n.unshift.apply(n,u()(i)),n}},{key:"renderIconSearch",value:function(){return c.a.createElement("svg",{className:"icon-search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"},c.a.createElement("path",{fillRule:"nonzero",d:"M12.802 12.744L9.654 9.281a5.83 5.83 0 0 0 1.253-3.632C10.907 2.534 8.512 0 5.567 0 2.625 0 .229 2.534.229 5.65c0 3.114 2.396 5.648 5.34 5.648a5.085 5.085 0 0 0 3.059-1.022l3.171 3.49a.673.673 0 0 0 .984.02.768.768 0 0 0 .02-1.042zM5.568 1.474c2.176 0 3.946 1.873 3.946 4.175 0 2.303-1.77 4.176-3.946 4.176S1.62 7.952 1.62 5.649c0-2.302 1.77-4.175 3.947-4.175z"}))}},{key:"onFormSubmit",value:function(e){e.preventDefault();var t=this.actionUrl.replace(/{{searchTerms}}/gi,this.state.inputTerm);chrome.tabs.create({active:!0,url:t})}},{key:"transformOptionToJsx",value:function(e){var t=this;return e.map((function(e,n){return c.a.createElement(Oo,mo()({key:n},e,{onClick:function(){return t.handleUserSelection(e)}}))}))}},{key:"renderHeaderImage",value:function(){return this.config.elements.headerImage.imageUrl?c.a.createElement("img",{className:"header-image",src:this.config.elements.headerImage.imageUrl}):null}},{key:"handleInputChange",value:function(e){var t=e.target;this.setState({inputTerm:t.value})}},{key:"render",value:function(){var e=this.config.elements,t=this._css;return c.a.createElement(t,{config:this.config,elements:e},c.a.createElement("form",{onSubmit:this.onFormSubmit},c.a.createElement("div",{className:"row_1"},this.renderHeaderImage(),c.a.createElement("span",null,e.headerTitle.textContent||"Select Provider"),c.a.createElement(Eo,null,this.transformOptionToJsx(this.state.options))),c.a.createElement("div",{className:"row_2"},c.a.createElement("span",null,e.searchBoxTitle.textContent||"Search inside your inbox"),c.a.createElement("div",{className:"input-container"},c.a.createElement("input",{onChange:this.handleInputChange,placeholder:this.placeholderTextContent||"Enter your keywords",type:"text",value:this.state.inputTerm}),this.renderIconSearch())),c.a.createElement("div",{className:"row_3"},c.a.createElement("input",{className:"submit-button",type:"submit",value:e.submitButton.textContent||"Submit"}))))}},{key:"getMainCss",value:function(){return yo.a.div(Co(),this.config.elements.submitButton.backgroundColor||"#f64d63",this.config.elements.submitButton.textColor||"white","0px 7px 9px -2px ".concat(this.config.elements.submitButton.shadowColor||"rgba(246, 77, 99, 0.41)"))}},{key:"actionUrl",get:function(){return this.state.options[0].searchUrl}}]),t}(c.a.Component);I.a.add((function(){return So}),"QuickSearch");var jo=n(67);function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}n(355),localStorage.getItem("base")&&document.write('<base href="'.concat(localStorage.getItem("base"),'"/>'));var To=rt.sb,Do=jo.a,Io=Object(st.hb)(window.location.hash,"-","_","#"),Po=document.getElementsByTagName("VAR")[0],xo=Po&&Po.getAttribute("env")?Po.getAttribute("env"):"client";"object"===s()(Io)&&(Io[rt.rb]?xo=Io[rt.rb]:Io[rt.rb.replace("_","")]&&(xo=Io[rt.rb.replace("_","")])),Po&&Po.setAttribute("env",xo),Do.load("client").then(class{static load(){return new Promise((e,t)=>{window.global=Object(st.H)(window.global)?window.global:{},window.global.processSessionId=window.global.processSessionId||Object(D.a)(),at.a.noAPIs()?e():at.a.getCurrentWindowInfo(t=>{window.global.windowId=t.id,at.a.getCurrentTabInfo(t=>{window.global.tabId=t?t.id:"",e()})})})}}.load).then((function(){var e=Do.getConfiguration();it.a.debug("Configuration loaded");var t=Object.keys(e.components),n=!1,o=0,r={};if(e.clientsEnvsConfiguration=e.clientsEnvsConfiguration||{},To=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},To,{},e.clientsEnvsConfiguration),xo&&To[xo]){r=To[xo];for(var s=function(i){var s=e.components[t[i]];if(s.type===r.parentType){if(s.style)try{var c=document.getElementsByTagName("BODY")[0];Object.keys(s.style).forEach((function(e){c.style[e]=s.style[e]}))}catch(e){}if(s.rootStyle)try{var p=document.getElementById("root");Object.keys(s.rootStyle).forEach((function(e){p.style[e]=s.rootStyle[e]}))}catch(e){}for(var u=0;u<s.components.length;u++){var f=s.components[u];if(f.id===r.mainWindowId){P.a.on(rt.pc,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ct.a.get(rt.Mb);t.reloadAll(e.key||!1)})),f.components&&(o=f.components.length);var h=I.a.createComponent(f.type);Object(l.render)(a.createElement(h,{config:f}),document.getElementById("root"))}else ct.a.load(f,xo)}n=!0}else s.type===rt.A&&ct.a.load(s,xo)},c=0;!n&&c<t.length;c++)s(c)}if(o||(n=!1),n){var p=r.finishEvent||rt.z;P.a.trigger(p),it.a.debug("App bootstrapped")}else{it.a.debug("App failed to load"),it.a.track("error","".concat(xo,"_comp_missing"));try{at.a.windowsGetAll((function(e){Array.isArray(e)&&(e.length>1?window.close():at.a.tabsQuery({currentWindow:!0},(function(e){e&&(e.length>1?window.close():window.location.href="about:blank")})))}))}catch(e){it.a.track("error",e.message)}}}))},99:function(e,t,n){"use strict";(function(e){t.a=function(t,o,i,r){if(null==(o=o||null))var s=n(171).stringify(o);else s=JSON.stringify(o);const a=n(121).parse(t,!0),c="http:"==a.protocol,l={host:a.hostname,port:a.port||(c?80:443),path:a.path,method:i,headers:{"Content-Type":"application/json","Content-Length":e.byteLength(s,"utf8"),"Trackingmore-Api-Key":"fe58d07e-1abf-4479-ac50-542d0ca50c32"}},p=n(c?172:353).request(l,e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{null!=r&&r(t)})});p.write(s),p.end()}}).call(this,n(65).Buffer)}});